/*! For license information please see 63.3f65b35c.chunk.js.LICENSE.txt */
(this.webpackJsonpswflearning=this.webpackJsonpswflearning||[]).push([[63],{2918:function(e,t,n){"use strict";var i=n(3099),l=n.n(i),a=n(26),o=n(6),r=n(7);var s=function(e){var t=this;return a.default.isMobileOS||document.body.classList.add("nonTouch"),delete t.tableContentElt,delete t.currentSrcCell,delete t.currentSrcCellRectangle,delete t.currentPanHandler,delete t.currentPanHandlerElement,t.scrollDelta=0,t.isActivelyDragging=!1,t.dragSelectedCells=[],t.removePanEvtHandler=function(){t.currentPanHandler&&t.currentPanHandler.off("panup pandown panend panstart pancancel",t.handleHammerCellDrag),delete t.currentPanHandler,t.isActivelyDragging=!1,delete t.currentPanHandlerElement,t.currentSrcCell&&t.currentSrcCell.classList.remove("dragSrc")},t.handlePan=function(n){var i,l;t.dragSelectedCells=[];let a=t.currentSrcCell.parentElement&&parseInt(t.currentSrcCell.parentElement.getAttribute("aria-rowindex"))-2||0;n.srcEvent.clientY+t.scrollDelta>t.currentSrcCellRectangle.top+t.initialScrollDelta+1?(t.dragUp=!1,i=t.currentSrcCellRectangle.top-1+t.initialScrollDelta,l=n.srcEvent.clientY+t.scrollDelta):(t.dragUp=!0,i=n.srcEvent.clientY+t.scrollDelta,l=t.currentSrcCellRectangle.bottom+t.initialScrollDelta+1);var r=$.util.getPropertyByCellElement(t.currentSrcCell);t.srcUiVal!==r.uiValue&&(t.dragUp?l=9999999:i=0);let s=$.util.getColumnContentCellElementsByIndex(t.tableContentElt,t.targetColNumber);for(let e of s){let n=parseInt(e.parentElement.getAttribute("aria-rowindex"))-2-a;var c=t.currentSrcCellRectangle.top+t.initialScrollDelta+(t.currentSrcCellRectangle.height+1)*n;let o=c+t.currentSrcCellRectangle.height;e.classList.remove("dragCellTop"),e.classList.remove("dragCell"),e.classList.remove("dragCellBottom");var d=c;!0===t.dragUp&&(d=o),d<l&&d>=i&&(e.classList.add("dragCell"),t.dragSelectedCells.push(e))}t.dragSelectedCells.length&&(t.dragSelectedCells[0].classList.add("dragCellTop"),t.dragSelectedCells[t.dragSelectedCells.length-1].classList.add("dragCellBottom")),function(n){var i=$.util.getTableInstance(e).renderer;let l=t.currentViewportElement.getBoundingClientRect();var a=l.top,r=a+l.height;n.srcEvent.pageY<a+10?(t.scrollDelta=i.manualScroll(!1),o.a.debug(scroll," scroll up")):n.srcEvent.pageY>r-10&&(t.scrollDelta=i.manualScroll(!0),o.a.debug(scroll," scroll down"))}(n)},t.handlePanEnd=function(){if(t.dragSelectedCells.length>1){var n,i;t.dragUp?(n=t.dragSelectedCells[0],i="up"):(n=t.dragSelectedCells[t.dragSelectedCells.length-1],i="down");for(var l=$.util.getPropertyByCellElement(n),a=0;a<t.dragSelectedCells.length;a++)t.dragSelectedCells[a].classList.remove("dragCellTop"),t.dragSelectedCells[a].classList.remove("dragCell"),t.dragSelectedCells[a].classList.remove("dragCellBottom");$.util.getTableInstance(e).gridId;let o=l.substituteParentUid||l.parentUid;if(!o)o=$.util.closestElement(n,"."+$.Const.CLASS_ROW).vmo.uid;$.util.getTableInstance(e).editor.fillDownCompleteHandler({propertyName:t.propertyName,source:t.srcUid,endTarget:o,direction:i})}t.scrollDelta=0,t.isActivelyDragging=!1,t.tableContentElt.classList.remove("aw-jswidgets-dragfilling")},t.handlePanCancel=function(){t.removePanEvtHandler()},t.handlePanStart=function(n){t.dragUp=!1,t.isActivelyDragging=!0;const i=$.util.getTableInstance(e).renderer;t.initialScrollDelta=i.getScrollTop(),t.scrollDelta=t.initialScrollDelta;var l=$.util.closestElement(n.target,"."+$.Const.CLASS_CELL);t.currentSrcCell=l,t.currentSrcCellRectangle=t.currentSrcCell.getBoundingClientRect(),t.currentViewportElement=$.util.closestElement(t.currentSrcCell,"."+$.Const.CLASS_VIEWPORT);var a=$.util.getPropertyByCellElement(t.currentSrcCell);if(t.srcUid=a.substituteParentUid||a.parentUid,!t.srcUid){var o=$.util.closestElement(t.currentSrcCell,"."+$.Const.CLASS_ROW);t.srcUid=o.vmo.uid}t.srcUiVal=a.uiValue,t.propertyName=a.propertyName,t.tableContentElt=$.util.closestElement(n.target,"."+$.Const.ELEMENT_TABLE),t.currentSrcCell.classList.add("dragSrc"),t.tableContentElt.classList.add("aw-jswidgets-dragfilling"),t.targetColNumber=t.currentSrcCell.columnDef.index},t.handleHammerCellDrag=function(e){"panstart"===e.type?t.handlePanStart(e):"panend"===e.type?t.handlePanEnd():"pancancel"===e.type?t.handlePanCancel():t.isActivelyDragging&&t.handlePan(e)},t.initialize=function(e){if(!t.isActivelyDragging)if(e.preventDefault(),t.currentPanHandlerElement&&t.currentPanHandlerElement!==e.target&&t.removePanEvtHandler(),t.currentPanHandler)t.currentPanHandlerElement&&t.currentPanHandlerElement!==e.target&&o.a.warn("different event handler element - shouldnt be here ------------------");else{var n=l()(e.target,{touchAction:"pan-y"});t.currentPanHandlerElement=e.target,n.get("pan").set({direction:l.a.DIRECTION_VERTICAL}),n.on("panup pandown panend panstart pancancel",t.handleHammerCellDrag),t.currentPanHandler=n}},t};var c=function(e){let t,n=this,i=new s(e);return n.enableFillDown=function(e){var n=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)[0];if(!n){let l=e.parentElement;(n=$.util.createElement("div",$.Const.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)).addEventListener("mouseover",i.initialize),n.addEventListener("mousedown",(function(){t=l.draggable,l.draggable=!1})),n.addEventListener("mouseup",(function(){l.draggable=t})),e.appendChild(n)}},n.disableFillDown=function(e){var t=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE)[0];t&&e.removeChild(t)},n},d=n(1),u=n.n(d),C=n(12),E=n(65),m=n(16),p=n(15),L=n(0),_=n(123),S=n(158),f=n(2);const h=e=>e.dataProvider.json&&e.dataProvider.json.editContext?e.dataProvider.json.editContext:e.dataProvider.json&&e.dataProvider.json.customPanelEditContext?e.dataProvider.json.customPanelEditContext:e.declViewModel._internal.editContext?e.declViewModel._internal.editContext:null,g=(e,t)=>{const n={message:{messageType:"INFO",messageText:e},showType:"false",closable:!0},i=Object(L.d)("AwGuidanceMessage",n);let l=document.createDocumentFragment();Object(_.d)(Object(f.jsx)(S.a,{children:i}),l),t.parentElement.insertBefore(l,t)},A=e=>{p.default.getLocalizedTextFromKey("BaseMessages.AUTO_SAVE_ONLY_TABLE",!0).then((t=>{g(t,e)}))},T=e=>{p.default.getLocalizedTextFromKey("BaseMessages.CELL_EDITING_DISABLED",!0).then((t=>{g(t,e)}))};var v=function(e,t,n){let i=new $.Trv(e),l=new c(e),s={},d=null,p=null,g=$.util.getTableInstance(e),v=null,b=null,N=null,I=null,y=null,D=!1;const O="aria-readonly",R="aria-activedescendant";let w=[],P=this;const M=function(){u.a.forEach(s,(function(e){r.a.unsubscribe(e)})),s={}};P.destroy=function(){M(),u.a.forEach(w,(function(e){r.a.unsubscribe(e)})),w=[]},P.setFocusProp=function(e){p=e};const B=function(){d&&d()};P.updateEditStatus=function(){B();var t=i.getContentCellElementsFromTable();u.a.forEach(t,(function(e){P.updateEditStatusForCell(e)})),$.util.isBulkEditing(e)||(p=null,M())};const H=function(e,t){if(t)for(var n=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED),i=n.length;i>0;i--){var l=n[i-1];l&&l.classList&&(l.classList.add($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS),l.classList.remove($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED))}else for(var a=(n=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS)).length;a>0;a--){var o=n[a-1];o&&o.classList&&(o.classList.add($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED),o.classList.remove($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS))}},W=function(t,n,i,l){if(null!==t.parentElement){t.isElementInEdit=!1;var a=null;a=l.isArray?t.getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP_ARRAY):t.getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP);var o=!1,r=$.Cell.createElement(i,n,e,t.parentElement);if(!0===g.dynamicRowHeightStatus&&$.Cell.addDynamicCellHeight(n,r),a.length>0){var s=a[0];if(l.isArray){const e=g.gridOptions.popupContext.editArrayPopup;e&&e.hide()}else s.parentElement.removeChild(s);setTimeout((function(){$.util.cleanupComponents(s),s.getElementsByClassName("aw-widgets-propertyError").length>0&&(o=!0),o&&r.classList.add("aw-widgets-propertyError"),l.isArray||$.util.destroyElement(s)}),1e3)}t.classList.remove($.Const.CLASS_AW_IS_EDITING),t.appendChild(r);var c=t.getElementsByClassName($.Const.CLASS_TABLE_CELL_TOP);c.length>0&&c[0].classList.add($.Const.CLASS_AW_EDITABLE_CELL),function(e){var t=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE);t.length>0&&t[0].parentElement.appendChild(t[0])}(t)}},x=function(e){e.removeEventListener("focus",e.onFocusEvent,!0),e.onFocusEvent=null,e.removeEventListener("mousedown",e.onFocusClickEvent),e.onFocusClickEvent=null};let F=!1,U=!1;const V=function(e,t){x(e);const n=function(n){if(F){let t;a.default.isIE?(t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,window,0,t.screenX,t.screenY,t.clientX,t.clientY,U,!1,!1,!1,0,null)):t=new MouseEvent("click",{ctrlKey:U}),e.parentElement.dispatchEvent(t),F=!1,U=!1}P.editCell(e,t)};e.onFocusEvent=n;e.addEventListener("focus",n,!0);const i=function(e){F=!0,U=e.ctrlKey};e.isFocusClickEvent=i,e.addEventListener("mousedown",i)},k=function(e,t,n){if(e.children[0]){e.children[0].classList.add($.Const.CLASS_AW_EDITABLE_CELL);var i=$.util.getTableRowHeight(g.gridOptions,void 0);void 0!==i&&(e.children[0].style.height=i+"px")}else o.a.debug(e.propName+" has no child");V(e,n),l.enableFillDown(e),H(e,!1);var a=e.getElementsByClassName($.Const.CLASS_TABLE_CELL_TOP)[0]||e.getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP)[0]||e.getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP_ARRAY)[0];$.Cell.updateCellChangedClass(t,a),p===e.prop&&P.editCell(e,n)},G=function(){const e=!0;document.body.removeEventListener("click",d,e),i.getScrollCanvasElementFromTable().removeEventListener("scroll",d,e),i.getPinCanvasElementFromTable().removeEventListener("scroll",d,e)},j=function(e){document.body.removeEventListener("keydown",I,!0),e.removeEventListener("keydown",y,!0),I=null,y=null},q=function(e,t,n,i){const a=e.getElementsByClassName($.Const.CLASS_TABLE_CELL_TOP)[0];(a&&(a.classList.contains($.Const.CLASS_AW_EDITABLE_CELL)||a.classList.contains($.Const.CLASS_CELL_CHANGED))||e.propIsEditableCache)&&(t.isArray||e.isSelected||l.disableFillDown(e),i||(e.removeChild(a),W(e,n,e.columnDef,t)),e.children[0].classList.remove($.Const.CLASS_AW_EDITABLE_CELL),x(e)),H(e,!0)};P.updateEditStatusForCell=function(t){var n=t.prop;let i=$.util.getViewModelObjectByCellElement(t);i=K(i.alternateID||i.uid);var l=i&&i.props&&i.props[t.propName];t.propName&&n&&!0!==t.columnDef.isTreeNavigation?(n.isEditable||l&&l.isEditable)&&!1!==t.columnDef.modifiable&&$.util.isBulkEditing(e)||t.isSelected&&t.propIsEditableCache&&n.isPropInEdit?k(t,n,i):(q(t,n,i),$.util.isBulkEditing(e)?t.setAttribute(O,"true"):t.hasAttribute(O)&&!1!==t.propIsEditableCache&&t.removeAttribute(O)):$.util.isBulkEditing(e)?t.setAttribute(O,"true"):t.hasAttribute(O)&&!1!==t.propIsEditableCache&&t.removeAttribute(O)};const Y=function(){const e=h(g);let t,n=null;e?(n=E.a.getEditHandler(e),t=n.isDirty()):g.dataProvider.getEditConfiguration()?t=g.dataProvider.isDirty():g.declViewModel.getEditConfiguration()&&(t=g.declViewModel.isDirty()),t&&t.then((function(e){if(!e)if(n)n.cancelEdits();else if(g.dataProvider.getEditConfiguration()){const e={data:g.declViewModel,ctx:C.default.ctx};g.dataProvider.cancelEdits(e,g.declViewModel)}else g.declViewModel.getEditConfiguration()&&g.declViewModel.cancelEdits()}))},X=function(e,t){if(!1!==e.modifiable&&!e.isTreeNavigation){const n=e.propertyName||e.field,i=t.props[n];if(i&&i.isEditable)return{vmo:t,column:e}}return null},z=t=>{t.onkeydown=t=>{if("Tab"!==t.code)return;let n=!1;t.shiftKey&&(n=!0);const l=((e,t,n)=>{let i=g.dataProvider.cols.filter((function(e){return!e.hiddenFlag}));const l=i.indexOf(t);n&&(i=i.slice().reverse());for(let o=l+1;o<i.length;o++){const t=i[o],n=X(t,e);if(n)return n}const a=g.dataProvider.viewModelCollection.loadedVMObjects;for(let o=g.dataProvider.viewModelCollection.findViewModelObjectById(e.uid)+1;o<a.length;o++){const e=a[o];for(let t=0;t<i.length;t++){const n=i[t],l=X(n,e);if(l)return l}}return null})(t.target.closest(".ui-grid-row").vmo,t.target.closest(".ui-grid-cell").columnDef,n);if(l){t.preventDefault(),t.stopPropagation();const n=g.dataProvider.viewModelCollection.findViewModelObjectById(l.vmo.uid);B(),g.renderer.scrollToRowIndex([n]),l.column.pinnedLeft||g.renderer.scrollToColumn(l.column),setTimeout((()=>{const t=e.getElementsByClassName("ui-grid-row")[0];if(t){const e=n-t.getAttribute("data-indexNumber");let a;a=l.column.pinnedLeft?i.getPinContentRowElementFromTable(e):i.getScrollContentRowElementFromTable(e);const o=a&&a.getElementsByClassName("ui-grid-cell")||[],r=u.a.filter(o,{columnDef:l.column})[0];r&&P.editCell(r,l.vmo)}}),200)}}},K=function(e){let t=g.dataProvider.viewModelCollection.findViewModelObjectById(e);return g.dataProvider.viewModelCollection.loadedVMObjects[t]},J=function(t,n,i){const l=function(t,n,i){return r.a.subscribe(i.propertyName+".lovValueChanged",(function(){i.lovApi&&i.lovApi.behaviorData&&"Interdependent"===i.lovApi.behaviorData.style&&i.lovApi.behaviorData.dependendProps.forEach((function(l){if(i.propertyName!==l){var a=t.parentElement;u.a.forEach(a.children,(function(t){if(t.propName===l){var i=t.children[0],o=$.Cell.createElement(t.columnDef,a.vmo,e,a);return!0===g.dynamicRowHeightStatus&&$.Cell.addDynamicCellHeight(n,o),o.classList.add($.Const.CLASS_AW_EDITABLE_CELL),t.replaceChild(o,i),t.isDependantEdit=!0,!$.util.isBulkEditing(e)&&$.util.isAutoSaveEnabled(e)&&(P.removeAllCellSelection(),P.editCell(t,n)),!1}return!0}))}}))}))}(t,n,i);let a=s[i.parentUid+i.propertyName];a&&(r.a.unsubscribe(a),delete s[i.parentUid+i.propertyName]),s[i.parentUid+i.propertyName]=l};P.editCell=function(t,a){const o=t.columnDef,s=t.prop;if(!t.isDependantEdit&&(!t.isSelected&&!$.util.isBulkEditing(e)||!0===t.isElementInEdit))return;n({type:"UPDATE_VALUES",editVmo:a,editPropertyName:t.propName}),function(t,n){const i={columnInfo:t.columnDef,gridId:e.id,vmo:n};r.a.publish(e.id+".cellStartEdit",i)}(t,a),B(),t.isElementInEdit=!0,s.isPropInEdit=!0,t.classList.add($.Const.CLASS_AW_IS_EDITING),J(t,a,s);let c=t.getElementsByClassName($.Const.CLASS_TABLE_CELL_TOP)[0];c&&t.removeChild(c);let u=s.autofocus;!function(e,t,n){const i=e.props[n.propName];i.autofocus=!0;let l=i.isArray?$.Const.CLASS_TABLE_EDIT_CELL_ARRAY:$.Const.CLASS_TABLE_EDIT_CELL_NON_ARRAY,a=$.util.createElement("div","aw-splm-tableEditCellTop",l),o=$.util.createElement("div","aw-jswidgets-tableEditContainer","aw-jswidgets-cellTop"),r=Object(L.d)("SplmTableCellEditor",{vmo:e,name:i.propertyName});if(Object(_.d)(Object(f.jsx)(S.a,{children:r}),o),a.appendChild(o),z(a),$.Cell.updateCellChangedClass(i,a.getElementsByClassName($.Const.CLASS_AW_JS_CELL_TOP)[0]),i.isArray&&g.gridOptions.popupContext&&g.gridOptions.popupContext.editArrayPopup){const e=n.getBoundingClientRect(),t={whenParentScrolls:"follow",innerClassName:$.Const.CLASS_TABLE_EDIT_CELL_TOP_ARRAY,autoFocus:!1,parent:n,reference:n,overlapOnReference:!0,containerWidth:e.width,width:e.width,forceCloseOthers:!1},i=g.gridOptions.popupContext.editArrayPopup;i&&i.hide().then((()=>{i.show(t).then((e=>{P.popupRef=e}))}))}else n.insertBefore(a,n.childNodes[0])}(a,0,t),x(t);const A=function(n){if(n&&"scroll"===n.type&&t.prop&&!t.prop.isArray)return;let i=null;if(n&&"keydown"!==n.type&&(p=null,i=$.util.closestElement(n.target,".".concat($.Const.CLASS_CELL))),t.isElementInEdit){if(i!==t&&t.isElementInEdit){let i=C.default.getCtx("panelContext");if(i&&!0===i.addTypeRef){if(t.propName===s.propertyName&&t.parentElement.vmo.uid===s.parentUid)return;r.a.publish("completed",{source:"toolAndInfoPanel"})}if(((e,t)=>{if(e.hasLov&&t){const e=document.querySelector(".sw-lov-contentContainer");if(e&&e.contains(t.target))return!0}else if(e.type&&t&&("DATE"===e.type||"DATEARRAY"===e.type)){const e=document.querySelector(".flatpickr-calendar.open");if(e&&e.contains(t.target))return!0;const n=document.querySelector(".sw-popup-contentContainer .aw-base-scrollPanel");if(n&&n.contains(t.target))return!0}else if(e.type&&t&&"STRING"===e.type&&e.isRichText){const e=document.getElementsByClassName("ck-body-wrapper")[0];if(e&&e.contains(t.target))return!0}return!1})(s,n))return!0;G(),j(t),W(t,a,o,s),s.autofocus=u,s.isPropInEdit=!1,t.isSelected=!1,delete t.isDependantEdit,function(t,n,i,a){if(!$.util.isBulkEditing(e)&&$.util.isAutoSaveEnabled(e)&&t&&!D){t.stopPropagation(),t.preventDefault(),l.disableFillDown(n);const i=$.util.closestElement(t.target,".ui-grid-cell");let a,o;i&&(o=i.propName,a=$.util.getViewModelObjectByCellElement(i)),b=P.saveEdit([n]).then((()=>{if(b=null,i){let t=a&&a.alternateID||a.uid,n=$.util.getCellElementsByPropertyAndUid(e,o,t)[0];n&&n.click&&n.click()}else{let e=t.target;for(;!e.click;)e=e.parentElement;e.click()}}))}else $.util.isBulkEditing(e)||$.util.isAutoSaveEnabled(e)||(Y(),q(n,i,a,!0))}(n,t,s,a),V(t,a)}}else G(),j(t)};G(),j(t);const T=!0;document.body.addEventListener("click",A,T);const v=i.getScrollCanvasElementFromTable(),N=i.getPinCanvasElementFromTable();v.removeEventListener("scroll",A,T),N.removeEventListener("scroll",A,T),v.addEventListener("scroll",A,T),N.addEventListener("scroll",A,T),((t,n,i,l)=>{I=a=>{if("Escape"===a.key)if($.util.closestElement(a.target,"."+$.Const.CLASS_CELL)===t&&t.isElementInEdit)a.stopPropagation(),m.a.resetUpdates(n),W(t,i,l,n),$.util.isBulkEditing(e)?V(t,i):(n.isPropInEdit=!1,q(t,n,i,!0),Y(),j(t),t.focus());else{const e=h(g);let t=E.a.getEditHandler(e);if(t)t.cancelEdits();else if(g.dataProvider.getEditConfiguration()){const e={data:g.declViewModel,ctx:C.default.ctx};g.dataProvider.cancelEdits(e,g.declViewModel)}else g.declViewModel.getEditConfiguration()&&g.declViewModel.cancelEdits()}},document.body.addEventListener("keydown",I,!0)})(t,s,a,o),((t,n)=>{y=t=>{if("Enter"===t.key&&!t.altKey&&!$.util.isBulkEditing(e)){const i=$.util.closestElement(t.target,"."+$.Const.CLASS_CELL);i.prop&&i.prop.isArray?""===t.target.value&&(t.stopPropagation(),n(t),$.util.isBulkEditing(e)||i.focus()):i&&!(e=>{const t=e.getElementsByClassName("aw-jswidgets-popUpVisible"),n=e.getElementsByClassName("aw-jswidgets-expanded");return t.length+n.length>0})(i)&&(t.stopPropagation(),n(t),b?b.then((function(){i.focus()})):i.focus())}},t.addEventListener("keydown",y,!0)})(t,A),function(e){d=e}(A)},P.isPropertiesEditablePromise=function(e){let t;const n=h(g);if(n){const i=E.a.getActiveEditHandler();i&&i!==E.a.getEditHandler(n)&&i.editInProgress()?t=new Promise((t=>{i.leaveConfirmation((()=>{E.a.setActiveEditHandlerContext(n),E.a.startEdit(e).then((()=>{t()}))}))})):(E.a.setActiveEditHandlerContext(n),t=E.a.startEdit(e))}else if(g.dataProvider.getEditConfiguration()){const n={data:g.declViewModel,ctx:C.default.ctx};t=g.dataProvider.startEdit(n,g.declViewModel,e)}else g.declViewModel.getEditConfiguration()&&(t=g.declViewModel.startEdit(e));return t||Promise.resolve(!1)};P.saveEdit=function(t){let n=null;const i=h(g);if(i)n=E.a.saveEdits(i,true,$.util.isAutoSaveEnabled(e));else if(g.dataProvider.getEditConfiguration()){const e={data:g.declViewModel,ctx:C.default.ctx};n=g.dataProvider.saveEdits(e,g.declViewModel)}else g.declViewModel.getEditConfiguration()&&(n=g.declViewModel.saveEdits());return n?n.finally((function(){P.setCellEditingContext(!1);for(let e=0;e<t.length;e++)document.body.contains(t[e])&&P.updateEditStatusForCell(t[e]);P.clearPropIsEditableCache()})):Promise.resolve(!1)};const Z=function(){let t=Array.prototype.slice.call(e.getElementsByClassName($.Const.CLASS_TABLE_CELL_SELECTED_EDITABLE)),n=Array.prototype.slice.call(e.getElementsByClassName($.Const.CLASS_TABLE_CELL_SELECTED)),l=t.concat(n);for(let e=0;e<l.length;e++){l[e].classList.remove($.Const.CLASS_TABLE_CELL_SELECTED_EDITABLE),l[e].classList.remove($.Const.CLASS_TABLE_CELL_SELECTED);let t=null;t=i.getTableContainerElementFromTable(),t&&t.hasAttribute(R)&&t.removeAttribute(R)}},Q=function(t,n){if(v&&v.cell){let t=v.cell;t.isSelected=!1;const i=K(v.vmoId);!n&&i&&t.prop&&$.util.isPropEditEnabled(e)&&!$.util.isBulkEditing(e)&&(t.prop.isEditable=!1,i.props&&i.props[t.propName]&&(i.props[t.propName].isEditable=!1))}if(t){t.classList.add($.Const.CLASS_TABLE_CELL_SELECTED),t.isSelected=!0;let e=$.util.getViewModelObjectByCellElement(t),n=e.alternateID||e.uid;v={cell:t,vmoId:n};let l=null;l=i.getTableContainerElementFromTable(),l&&l.setAttribute(R,t.getAttribute("id"))}else v=null};P.clearPropIsEditableCache=function(e){const t=i.getContentCellElementsFromTable();u.a.forEach(t,(function(e){delete e.propIsEditableCache,e.hasAttribute(O)&&e.removeAttribute(O)})),Z();const n=v?v.cell:null;if(Q(null,e),n&&n.parentElement){const e={ctrlKey:!1,shiftKey:!1,type:"click"};P.onClickHandler(e,n,$.util.getViewModelObjectByCellElement(n))}};const ee=function(t,n){Z(),Q(t);if($.util.isPropEditEnabled(e)&&t.propName&&t.prop&&!0!==t.columnDef.isTreeNavigation)if(m.a.isModified(t.prop)&&void 0===t.propIsEditableCache&&!$.util.isAutoSaveEnabled(e)&&(t.propIsEditableCache=!0),"icon"===t.columnDef.name||!1===t.columnDef.modifiable||void 0!==t.propIsEditableCache)t.propIsEditableCache?(t.prop.isEditable=!0,n.props[t.propName].isEditable=!0,t.classList.add($.Const.CLASS_TABLE_CELL_SELECTED_EDITABLE),t.hasAttribute(O)&&t.removeAttribute(O)):!1===t.propIsEditableCache&&t.setAttribute(O,"true");else{const i=function(){return async function(t,n){b&&await b;let i=t.props[n.propName],l=[i.propertyName];i.lovApi&&i.lovApi.behaviorData&&"Interdependent"===i.lovApi.behaviorData.style&&(l=i.lovApi.behaviorData.dependendProps);let a={vmos:[t],propertyNames:l,autoSave:$.util.isAutoSaveEnabled(e)};return!1!==await P.isPropertiesEditablePromise(a)&&(i=t.props[n.propName],i&&i.isEditable&&!1!==i.isEnabled)}(n,t).then((function(e){t.propIsEditableCache=e,!1===t.propIsEditableCache?t.setAttribute(O,"true"):t.hasAttribute(O)&&t.removeAttribute(O),t.isSelected&&(e&&t.classList.add($.Const.CLASS_TABLE_CELL_SELECTED_EDITABLE),l.enableFillDown(t))})).then((function(){delete t.isCellEditablePromise,N=null}))};N?N.then((function(){Z(),Q(t),N=i(),t.isCellEditablePromise=N})):(N=i(),t.isCellEditablePromise=N)}else t.setAttribute(O,"true")};let te=!1;const ne=function(e,t){r.a.publish(g.gridId+".plTable.cellNotEditable",{vmo:e,prop:t})};P.setCellEditingContext=function(t){if(t?g.dataProvider.cacheCollapse=t:g.dataProvider.restoreInitialCacheCollapseState(),g.controller.setDraggable(!t),!$.util.isAutoSaveEnabled(e)){const e=h(g);if(e){const n=E.a.getEditHandler(e);n._editing=t,C.default.updateCtx("editInProgress",n._editing),E.a.setActiveEditHandlerContext(e),n.editStateChangeDispatcher&&n.editStateChangeDispatcher({type:"SET_EDIT_STATE_CHANGED",value:n._editing})}else g.dataProvider.getEditConfiguration()?(g.dataProvider._editing=t,C.default.updateCtx(g.dataProvider._appCtxEditInProgress,g.dataProvider._editing)):g.declViewModel.getEditConfiguration()&&(g.declViewModel._editing=t,C.default.updateCtx(g.declViewModel._internal.eventTopicEditInProgress,g.declViewModel._editing))}C.default.getCtx("autoSave")&&C.default.getCtx("autoSave.dbValue")||!e._tableInstance.gridOptions.forceAutoSave||!t||$.util.isCellEditing(e)||te||(te=!0,A(e)),$.util.setIsCellEditing(e,t)};let ie=null;P.onClickHandler=async(t,n,i)=>{if(!$.util.isBulkEditing(e))return t.ctrlKey?(B(),Z(),Q(null),void($.util.isCellHeaderSelectionEnabled(e)&&$.SelectionHelper.setCellHeaderSelection(null,e))):void(n.isSelected&&n.propIsEditableCache&&!n.isElementInEdit?function(e,t){Z(),e.prop.isEditable||(e.prop.isEditable=!0,t.props&&t.props[e.propName]&&(t.props[e.propName].isEditable=!0));const n=h(g),i=E.a.getActiveEditHandler();n&&i&&i!==E.a.getEditHandler(n)&&i.editInProgress()?i.leaveConfirmation((()=>{E.a.setActiveEditHandlerContext(n),E.a.getEditHandler(n).reregisterLeaveHandler(),P.editCell(e,t),P.setCellEditingContext(!0)})):(P.editCell(e,t),P.setCellEditingContext(!0))}(n,i):n.isSelected&&!1===$.util.isPropEditEnabled(e)&&!ie?(ie=!0,T(e)):n.isSelected&&n.isCellEditablePromise&&!n.isCellEditablePromiseResolving?async function(e,t){e.isCellEditablePromiseResolving=!0,await e.isCellEditablePromise,delete e.isCellEditablePromiseResolving,e.isSelected&&(e.propIsEditableCache?(p=e.prop,Z(),e.prop.isEditable||(e.prop.isEditable=!0,t.props&&t.props[e.propName]&&(t.props[e.propName].isEditable=!0)),P.editCell(e,t),P.setCellEditingContext(!0)):ne(t,e.prop))}(n,i):n.isSelected||t.shiftKey?t.shiftKey?(B(),Z(),Q(null)):!n.isCellEditablePromiseResolving&&function(e){return e&&e.isSelected&&e.prop&&!1===e.prop.isEditable}(n)&&ne(i,n.prop):(await ee(n,i),l.enableFillDown(n),$.util.isCellHeaderSelectionEnabled(e)&&$.SelectionHelper.setCellHeaderSelection(n,e)))},P.addCellClickListener=function(t,n){t.onclick=function(e){e.target.closest(".aw-command, a.aw-splm-tablePropertyValueLinks")||P.onClickHandler(e,t,n)},t.oncontextmenu=function(i){$.util.isBulkEditing(e)||t.isSelected||ee(t,n)}},P.removeAllCellSelection=function(){Z(),Q()};const le=function(t,n){let i=$.util.getCellElementsByPropertyAndUid(e,t.propertyName,n);for(let l=0;l<i.length;l++){let t=i[l],n=t.parentElement,a=t.children[0],o=$.Cell.createElement(t.columnDef,n.vmo,e,n);$.util.isBulkEditing(e)&&o.classList.add($.Const.CLASS_AW_EDITABLE_CELL),t.replaceChild(o,a)}},ae=function(e,t){e.uiValue=t.uiValue,e.dbValue=t.dbValue,e.valueUpdated=!0,m.a.updateViewModelProperty(e)},oe=function(t,n,i,l){(function(t){return!(!$.util.isPropEditEnabled(e)||!0===t.isTreeNavigation||"icon"===t.name||!1===t.modifiable)})(l)&&i.push(t)},re=function(e,t,n){const i=e.props[t.propertyName];n&&i&&i.isPropertyModifiable&&i.editable&&(ae(i,n),le(n,e.uid))};P.fillDownCompleteHandler=t=>{let n=g.dataProvider.viewModelCollection.loadedVMObjects,i=n.filter((function(e){return e.uid===t.source})),l=i[0]&&i[0].props[t.propertyName],a=[],o={},r=[];"up"!==t.direction&&(n=n.slice().reverse());let s=!1;for(let c of n){if(s||c.uid!==t.endTarget||(s=!0),!s)continue;if(c.uid===t.source)break;const n=$.util.getColumnDef(t.propertyName,g.dataProvider);if($.util.isBulkEditing(e))re(c,t,l);else{const i=$.util.getCellElementsByPropertyAndUid(e,t.propertyName,c.uid)[0];i&&(o[c.uid]=i),oe(c,0,a,n)}}if(!$.util.isBulkEditing(e)){D=!0;let n=[t.propertyName];(function(t,n,i){let l={vmos:n,propertyNames:i,autoSave:$.util.isAutoSaveEnabled(e)};return P.isPropertiesEditablePromise(l).then((function(e){for(let i of n){let n=t[i.uid];n&&(n.propIsEditableCache=!1!==e&&n.prop&&n.prop.isEditable,!1===n.propIsEditableCache&&n.setAttribute(O,"true"))}return Promise.resolve(e)}))})(o,a,n).then((n=>{!function(t,n,i,l,a,o){if(!1===t)return;let r=!1;for(let e=0;e<n.length;e++){let t=n[e];const s=t.props[i.propertyName];o&&s&&s.isPropertyModifiable&&s.editable&&(r=!0,l.push(a[t.uid]),ae(s,o),le(o,t.uid))}r&&($.util.isAutoSaveEnabled(e)?P.saveEdit(l):P.setCellEditingContext(!0))}(n,a,t,r,o,l),D=!1}))}},w.push(r.a.subscribe("".concat(g.dataProvider.name,".selectNone"),P.removeAllCellSelection)),w.push(r.a.subscribe("".concat(g.dataProvider.name,".selectAll"),P.removeAllCellSelection)),w.push(r.a.subscribe("".concat(g.dataProvider.name,".selectionChangeEvent"),(function(e){let t=e.selectedObjects;if(v&&v.vmoId){const e=K(v.vmoId);-1===t.indexOf(e)&&P.removeAllCellSelection()}})))},b=n(2975);var N={applyColumnResizeHandler:function(e,t,n){var i=-1,l=-1,a=-1,o=t.parentElement.children[1].columnDef,r=o.index;b.a.enableDragging(t),t.addEventListener($.Const.EVENT_ON_ELEM_DRAG_START,(function(t){var s=t.detail;i=s.pageX,a=0,n.ensureAllTableMenusDismissed();var c=!0===o.pinnedLeft?e.getPinCanvasScrollLeftPosition():e.getScrollCanvasScrollLeftPosition();l=e.getTotalColumnWidth(r)-($.Const.WIDTH_COLUMN_SPLITTER-s.offsetX)+c,e.showColumnGrip(l)})),t.addEventListener($.Const.EVENT_ON_ELEM_DRAG,(function(t){var n=t.detail.pageX-i;e.isColumnWidthChangeValid(r,n)&&(a=n,e.setColumnGripPosition(l+a))})),t.addEventListener($.Const.EVENT_ON_ELEM_DRAG_END,(function(){e.hideColumnGrip(),e.updateColumnWidth(r,a)})),t.addEventListener("dblclick",(function(){e.fitColumnWidth(r)}))}};let I={};I={subscribeMouseEvent:function(e,t,n){u.a.forEach(Object.keys(t),(i=>{if(e.default.on?e.default.on(i,n):e.default.addEventListener(i,n),a.default.isMobileOS&&e.mobile){var l=!1;u.a.forEach(["touchmove","touchcancel"],(function(t){e.mobile["on".concat(t)]=function(){l=!0}})),e.mobile["on".concat(t[i])]=function(e){if(!l){e.preventDefault();var t=document.createEvent("MouseEvent");t.initMouseEvent(i,!0,!1,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,1,null),e.target.dispatchEvent(t)}l=!1}}}))}};var y=I,D=n(27),O=function(e,t,n,i){var l=this,a=e,o=new $.Trv(e),r=$.util.getTableMenuService(e),s=t,c=e._tableInstance,d=c.keyboardService,E=null,m=0,p=0,L=0,_=!1,S={start:null,end:null};const f="aria-colindex",h="aria-rowindex",g="aria-rowcount",A="data-indexnumber";var T=function(e){if("string"===typeof e){if("ASC"===(e=e.toUpperCase()))return $.Const.CLASS_ICON_SORT_ASC;if("DESC"===e)return $.Const.CLASS_ICON_SORT_DESC;if(""===e)return $.Const.CLASS_ICON_SORTABLE}return $.Const.CLASS_ICON_NON_SORTABLE};l.setPinContext=function(e){if(void 0!==e&&null!==e)m=e+1;else{var t=-1;u.a.forEach(s,(function(e,n){!0===e.pinnedLeft&&(t=n)})),0===m&&(m=t+1)}p=0,L=0;for(var n=0;n<s.length;n++)n<m?(s[n].pinnedLeft=!0,s[n].startPosition=p,p+=s[n].drawnWidth):(s[n].pinnedLeft=!1,s[n].startPosition=L,L+=s[n].drawnWidth)},l.getPinColumnCount=function(){return m},l.initializeColumnWidths=function(){u.a.forEach(s,(function(e){var t=0;"icon"===e.name?(t=$.util.getTableRowHeight(c.gridOptions,$.Const.WIDTH_DEFAULT_ICON_COLUMN_WIDTH))!==$.Const.WIDTH_DEFAULT_ICON_COLUMN_WIDTH&&(t+=8):e.width>0?t=e.width:(t=e.minWidth>0?e.minWidth:$.Const.WIDTH_DEFAULT_MINIMUM_WIDTH,t=Math.floor(1.25*t),t=e.maxWidth>0&&e.maxWidth<t?e.maxWidth:t),e.width=t,e.drawnWidth=t}))},l.setAriaColCount=function(e,t){if(void 0!==t){var n=t.filter((e=>void 0!==e.visible&&e.visible)).length;e.setAttribute("aria-colcount",n)}else e.setAttribute("aria-colcount",-1)},l.setAriaRowCount=function(e){if(!0===c.gridOptions.transpose){var t=c.dataProvider.cols.filter((e=>void 0!==e.visible&&e.visible));e.setAttribute(g,t.length+1)}else c.dataProvider.json&&c.dataProvider.json.firstPage&&c.dataProvider.action&&c.dataProvider.action.inputData.searchInput?e.setAttribute(g,c.dataProvider.json.firstPage.length+1):c.dataProvider.viewModelCollection&&c.dataProvider.viewModelCollection.loadedVMObjects?e.setAttribute(g,c.dataProvider.viewModelCollection.loadedVMObjects.length+1):e.setAttribute(g,-1)},l.setAriaLabelledAndDescribedBy=function(e,t){e&&(e.getAttribute("labelled-by")&&t.setAttribute("aria-labelledby",e.getAttribute("labelled-by")),e.getAttribute("described-by")&&t.setAttribute("aria-describedby",e.getAttribute("described-by")))};var v=function(e,t){var n=t>0?t:1;e.style.minWidth=n+"px"},b=function(e){var t=o.getPinHeaderElementFromTable(),n=o.getPinContentElementFromTable();t.style.minWidth=String(e)+"px",v(n,e)},I=function(e){var t=o.getScrollHeaderElementFromTable(),n=o.getScrollContentElementFromTable();t.style.minWidth=String(e)+"px";var i=parseInt(e,10)-parseInt(n.style.paddingLeft,10);v(n,i)},O=function(e,t){e.style.minWidth=String(t)+"px"},R=function(){var e=0,t=o.getScrollContentRowElementsFromTable();return t&&(e=t.length),e},w=function(e,t){e.classList.add($.Const.CLASS_HEADER_CELL_FILTER_APPLIED_ICON),e.title=t.summaryText};const P=function(t,n,o,s){let u=document.createElement("div");u.classList.add($.Const.CLASS_HEADER_CELL),u.tabIndex=-1,d.setOnFocusAndBlur(u),u.setAttribute("role","columnheader"),u.setAttribute(f,n+1);let C=document.createElement("div");C.classList.add($.Const.CLASS_COLUMN_DEF),C.classList.add($.Const.CLASS_CELL_CONTENTS),C.classList.add($.Const.CLASS_HEADER_CLEARFIX),C.classList.add($.Const.CLASS_HEADER_CELL_CONTENT),C.style.width=String(t.drawnWidth)+"px",C.columnDef=t,!0===c.gridOptions.transpose&&(C.onclick=$.SelectionHelper.selectionChanged(a)),!1!==t.headerTooltip&&!0===t.headerTooltip&&(C.title=t.displayName),u.appendChild(C);let E=document.createElement("div");E.classList.add($.Const.CLASS_HEADER_CELL_SPLITTER),t.enableColumnResizing&&(u.insertBefore(E,C),N.applyColumnResizeHandler(l,E,r));let p=$.Cell.createHeaderElement(t,e);p.classList.add($.Const.CLASS_HEADER_CELL_INNER),C.appendChild(p);let L,_=document.createElement("i");_.classList.add($.Const.CLASS_HEADER_CELL_SORT_ICON),_.classList.add(T(o)),_.title="",C.appendChild(_),null!==o&&""!==o&&(L=o.toLowerCase().includes("desc")?"descending":"ascending",u.setAttribute("aria-sort",L));let S=document.createElement("i");if(S.classList.add($.Const.CLASS_HEADER_CELL_FILTER_ICON),t.filter&&t.filter.isFilterApplied?w(S,t.filter):S.title="",C.appendChild(S),!0===t.enableColumnMenu){const e=e=>{if(i){let e=-1;if(c.columnProvider.sortCriteria&&c.columnProvider.sortCriteria.length>0){var t=c.columnProvider.sortCriteria[0];e=l.getIdxFromColumnName(t.fieldName)}i({type:"UPDATE_VALUES",columnDef:C.columnDef,currentColumnIndex:e,pinColumnCount:m,isBulkEditing:$.util.isBulkEditing(a)})}r.columnMenuHandler(C,i)(e)};C.classList.add($.Const.CLASS_COLUMN_MENU_ENABLED),C.setAttribute("role","button"),C.setAttribute("aria-haspopup","true"),C.addEventListener("click",(t=>{e(t)})),u.addEventListener("keydown",(function(t){D.default.isValidKeyPress(t)&&e(t)}))}return t.startPosition=s,u};var M=function(e,t,n){let i=s,l=0;t<n&&(e.setAttribute("role","row"),e.setAttribute(h,1));for(let o=t;o<n;o++){let t=i[o],n=null;!1!==c.gridOptions.enableSorting&&t.enableSorting&&(n=t.sort&&t.sort.direction?t.sort.direction:"");const a=P(t,o,n,l);l+=t.drawnWidth,e.appendChild(a)}let a=$.util.getTableHeaderHeight(c.gridOptions,$.Const.HEIGHT_HEADER)+"px";e.style.height=a,e.style.minHeight=a,e.style.maxHeight=a,e.style.minWidth=String(l)+"px"},B=function(){for(var e=o.getTableContainerElementFromTable().getElementsByClassName("ui-grid-row"),t=0;t<e.length;t++)e[t].classList.remove($.Const.CLASS_ROW_HOVER)},H=function(){requestAnimationFrame((function(){B()}))};const W=function(t,i,l,a){const o=$.util.createElement("div",$.Const.CLASS_CELL);o.tabIndex=-1,c.dynamicRowHeightStatus&&o.classList.add($.Const.CLASS_CELL_DYNAMIC),t.colSelected&&(o.classList.add($.Const.CLASS_COLUMN_SELECTED),o.classList.add($.Const.CLASS_CELL_SELECTED));const r="compact"===C.default.ctx.layout?$.Const.HEIGHT_COMPACT_ROW:$.Const.HEIGHT_ROW,s=$.util.getTableRowHeight(c.gridOptions,r);o.style.width="".concat(l,"px"),o.style.height=c.dynamicRowHeightStatus?"auto":s+"px",o.appendChild($.Cell.createElement(t,i,e,a)),"transposedColumnProperty"===t.field?o.setAttribute("role","rowheader"):o.setAttribute("role","gridcell"),o.propName=t.field,o.columnDef=t,i.props&&(o.prop=i.props[t.field]);const u=o.getElementsByClassName("aw-splm-tableCellTop");u.length>0&&$.util.addCSSClassForRowHeight(u[0],c.gridOptions);const E=document.createAttribute(A);return E.value=t.index,t.index>=m&&(E.value=t.index-m),o.setAttributeNode(E),o.setAttribute(f,t.index+1),n.addCellClickListener(o,i),d.setOnFocusAndBlur(o),d.setupInternalCellNavigation(o),o},x=function(e,t,n){let i=$.util.createElement("div",$.Const.CLASS_CELL_CHECKBOX),l=$.util.createElement("a","aw-commands-cellCommandCommon"),a=$.util.createElement("span","sw-checkbox-val"),o=$.util.createElement("input",$.Const.CLASS_CELL_CHECKBOX_BUTTON),r=document.createAttribute("type");r.value="checkbox",o.setAttributeNode(r);let s=n.filter((function(e){return!(!e.isTableCommand&&!e.isTreeNavigation)}))[0],c=s&&(s.propertyName||s.name);if(c&&e.vmo&&e.vmo.props&&e.vmo.props[c]){let t=e.vmo.props[c].uiValue,n=document.createAttribute("aria-label");n.value=t,o.setAttributeNode(n)}let d=document.createElement("span");d.classList.add("sw-checkbox-pseudo"),a.appendChild(o),a.appendChild(d),l.appendChild(a),i.appendChild(l),e.appendChild(i)},F=function(e,t,n,i){const l=s,d=$.util.createElement("div",$.Const.CLASS_ROW,$.Const.CLASS_UI_GRID_ROW,$.Const.CLASS_ROW_ICON);let C=0;d.vmo=e,n<=i&&d.setAttribute("role","row"),function(e,t){!0===c.gridOptions.useTree&&(!1===t.isLeaf&&(!0===t.isExpanded?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false")),e.setAttribute("aria-level",t.levelNdx+1))}(d,e);let E={default:d,mobile:d};y.subscribeMouseEvent(E,{click:"touchend"},$.SelectionHelper.selectionChanged(a)),d.oncontextmenu=r.contextSelectionHandler,d.draggable=!0,function(e){e.addEventListener("mouseenter",(function(e){const t=e.currentTarget;requestAnimationFrame((function(){B();const e=$.util.getIndexInParent(t),n=o.getScrollContentRowElementFromTable(e),i=o.getPinContentRowElementFromTable(e);n.classList.add($.Const.CLASS_ROW_HOVER),i.classList.add($.Const.CLASS_ROW_HOVER)}))}))}(d),e.rowStatus&&"ADDED"===e.rowStatus?d.classList.add("aw-jswidgets-change"):e.rowStatus&&"REMOVED"===e.rowStatus&&d.classList.add("aw-jswidgets-oldText");let m=u.a.sortBy(l,(function(e){return e.index}));u.a.forEach(m,(function(e){d.vmo.props&&d.vmo.props[e.field]&&(d.vmo.props[e.field].renderingHint=e.renderingHint)}));for(let a=n;a<=i;a++){const t=m[a];let n=null,i=t.drawnWidth;const l=c.showCheckBox;0===a&&l&&x(d,0,m),n=W(t,e,i,d),C+=i,d.appendChild(n)}return d.style.minWidth=String(C)+"px",d.style.minHeight=String(t)+"px",d},U=function(e){e.classList.remove($.Const.CLASS_HEADER_CELL_FILTER_APPLIED_ICON),e.title=""};l.updateScrollColumnsInView=function(e,t){var n=o.getScrollHeaderElementFromTable().children,i=null,l=null,a=n.length;if(null!==t&&void 0!==t&&0!==t){for(var r=0;r<a;r++){var s=n[r].getElementsByClassName($.Const.CLASS_COLUMN_DEF)[0].columnDef.startPosition;s<=e&&(i=r),s<=e+t&&(l=r)}S={start:i=i-3<0?0:i-3,end:l=l+3>a-1?a-1:l+3}}else S={start:0,end:a-1}},l.updateVisibleCells=function(e){const t=S.start,i=S.end;e=e.childNodes;const l=o.getScrollHeaderElementFromTable(),a=o.getScrollContentElementFromTable(),r=l.children;let c=0;for(let n=t;n<r.length;n++){const e=r[n].getElementsByClassName($.Const.CLASS_COLUMN_DEF)[0].columnDef;null!==t&&(c+=e.drawnWidth)}let d=null;const u=l.style.minWidth;if(t>0){const e=r[t-1].getElementsByClassName($.Const.CLASS_COLUMN_DEF)[0].columnDef;d=e.startPosition+e.drawnWidth+"px"}else d="0px";a.style.paddingLeft=d;const C=parseInt(u,10)-parseInt(d,10);v(a,C);const E=e;for(let o=0;o<E.length;o++){const e=E[o].children;if(0===e.length)continue;const l=E[o];l.style.minWidth=c+"px";const a=e[0].columnDef.index,r=e[e.length-1].columnDef.index,d=t+m,u=i+m;for(let t=e.length-1;t>=0;t--){const n=e[t],i=n.columnDef.index;(i<d||i>u)&&($.util.destroyChildElements(n),n.parentElement.removeChild(n))}for(let t=a-1;t>=d;t--){const e=W(s[t],l.vmo,s[t].drawnWidth,l);l.insertBefore(e,l.children[0]),n.updateEditStatusForCell(e)}for(let t=r+1;t<=u;t++){const e=W(s[t],l.vmo,s[t].drawnWidth,l);l.appendChild(e),n.updateEditStatusForCell(e)}}};const V=function(e){e.classList.remove($.Const.CLASS_ICON_SORT_ASC),e.classList.remove($.Const.CLASS_ICON_SORT_DESC),e.classList.remove($.Const.CLASS_ICON_NON_SORTABLE),e.classList.remove($.Const.CLASS_ICON_SORTABLE)};l.getColumnMinWidth=function(e){return s[e].minWidth},l.getColumnMaxWidth=function(e){return s[e].maxWidth},l.getColumnWidth=function(e){return s[e].drawnWidth};const k=function(){let e=0,t=0;for(let n=0;n<s.length;n++)n<m?(s[n].startPosition=e,e+=s[n].drawnWidth):(s[n].startPosition=t,t+=s[n].drawnWidth)};l.updateColumnWidth=function(e,t){let n=l.getColumnWidth(e)+t;!function(e,t){o.getHeaderCellElementFromTable(e).style.width=String(t)+"px"}(e,n),function(e,t){for(var n=R(),i=0;i<n;i++){var a=o.getContentCellFromTable(i,e),r=l.getColumnWidth(e);if(e<m){var s=o.getPinContentRowElementFromTable(i);O(s,p+t-r)}else{var c=o.getScrollContentRowElementFromTable(i);O(c,L+t-r)}a.style.width=String(t)+"px"}}(e,n),e<m?(b(p+=t),o.getScrollContainerElementFromTable().style.marginLeft=String(p)+"px"):I(L+=t),0!==t&&(s[e].drawnWidth=n,c.tableInstanceCallbacks.columnsResized({name:s[e].name,delta:t})),k();let i=o.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(i.scrollLeft,i.offsetWidth),0!==t&&l.updateVisibleCells(o.getScrollContentElementFromTable())},l.updateFilterIcon=function(e){for(var t=o.getHeaderCellElementsFromTable(),n=0;n<t.length;n++){var i=t[n].getElementsByClassName($.Const.CLASS_COLUMN_DEF)[0].columnDef,l=t[n].getElementsByClassName($.Const.CLASS_HEADER_CELL_FILTER_ICON)[0];if(i&&i.filter&&l&&i.field===e){i.filter.isFilterApplied?w(l,i.filter):U(l);break}}},l.updateAllFilterIcons=function(){for(var e=o.getHeaderCellElementsFromTable(),t=0;t<e.length;t++){var n=e[t].getElementsByClassName($.Const.CLASS_COLUMN_DEF)[0].columnDef,i=e[t].getElementsByClassName($.Const.CLASS_HEADER_CELL_FILTER_ICON)[0];n&&n.filter&&i&&(n.filter.isFilterApplied?w(i,n.filter):U(i))}},l.fitColumnWidth=function(e){var t=s[e].isTreeNavigation,n=o.queryRowColumnCellElementsFromTable(e),i=0,a=o.getHeaderCellElementFromTable(e).getElementsByClassName($.Const.CLASS_HEADER_CELL_INNER)[0];i=$.util.getElementTextWidth(a);var r=c.gridOptions.isFilteringEnabled,d=c.gridOptions.enableSorting;if((r||d)&&(i+=$.Const.WIDTH_MINIMUM_EXTRA_SPACE),n.forEach((function(e){var n;if(t)n=$.util.getElementTextWidth(e),i=n>i?n:i;else{var l=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_TEXT);0===l.length&&(l=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS));for(var a=0;a<l.length;a++)n=$.util.getElementTextWidth(l[a]),i=n>i?n:i}})),i>0){var u=l.getColumnWidth(e),C=l.getValidColumnWidth(e,i);u!==C&&l.updateColumnWidth(e,C-u)}},l.updateColumnVisibility=function(e){var t=l.getIdxFromColumnName(e),n=o.getHeaderCellElementFromTable(t);n&&n.parentElement&&n.parentElement.removeChild(n);for(var i=R(),a=0;a<i;a++){var r=o.getContentCellFromTable(a,t);r&&r.parentElement&&r.parentElement.removeChild(r)}s[t].visible=!1,s.splice(t,1),u.a.forEach(s,(function(e,t){e.index=t})),l.resetColumnDefs(s);var c=o.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(c.scrollLeft),l.updateVisibleCells(o.getScrollContentElementFromTable())};l.pinToColumn=function(e){var t=o.getScrollCanvasElementFromTable();l.updateScrollColumnsInView(t.scrollLeft),l.updateVisibleCells(o.getScrollContentElementFromTable()),function(e){var t=e+1,n=m,i=o.getHeaderCellElementsFromTable(),a=document.createDocumentFragment(),r=0;if(n<t){for(var s=n;s<t;s++)a.appendChild(i[n]),r+=l.getColumnWidth(s);o.queryPinContainerFromTable().toHeader().getElement().appendChild(a),b(p+r),I(L-r),o.getScrollContainerElementFromTable().style.marginLeft=String(p+r)+"px"}else if(n>t){for(var c=t;c<n;c++)a.appendChild(i[t]),r+=l.getColumnWidth(c);var d=o.queryScrollContainerFromTable().toHeader().getElement();d.insertBefore(a,d.childNodes[0]),b(p-r),I(L+r),o.getScrollContainerElementFromTable().style.marginLeft=String(p-r)+"px"}}(e),function(e){var t=e+1,n=m,i=document.createDocumentFragment(),a=o.queryPinContainerFromTable().getContentRowElements(),r=o.queryScrollContainerFromTable().getContentRowElements(),s=a.length,c=0;if(n<t)for(var d=0;d<s;d++){c=0;for(var u=n;u<t;u++)i.appendChild(r[d].children[0]),c+=l.getColumnWidth(u);a[d].appendChild(i),O(a[d],p+c),O(r[d],L-c)}else if(n>t)for(var C=0;C<s;C++){c=0;for(var E=t;E<n;E++)i.appendChild(a[C].children[t]),c+=l.getColumnWidth(E);r[C].insertBefore(i,r[C].childNodes[0]),O(a[C],p-c),O(r[C],L+c)}}(e),l.setPinContext(e);let n=s[e],i=o.getPinCanvasElementFromTable();i.scrollLeft=n.startPosition,$.util.syncHeader(a,!0,i.scrollLeft),function(){for(var e=o.getContentCellElementsFromTable(),t=0;t<e.length;t++){var n=e[t],i=n.columnDef,l=document.createAttribute(A);l.value=i.index,i.index>=m&&(l.value=i.index-m),n.setAttributeNode(l),k()}}(),l.updateScrollColumnsInView(t.scrollLeft,t.offsetWidth),l.updateVisibleCells(o.getScrollContentElementFromTable())},l.resetFreezeScroll=function(e){let t=0;if(s&&s.length)for(var n=0;n<s.length;n++)s[n].field===e&&(t=s[n].startPosition);let i=t;o.getScrollCanvasElementFromTable().scrollLeft=i};l.getColumnDefs=function(){return s},l.resetColumnDefs=function(e){var t=function(e,t){var n;if(u.a.isArray(t)&&u.a.isArray(e))for(var i=t.length-1;i>=0;i--){for(var l=0;l<e.length;l++)if(t[i].name&&(t[i].name===e[l].name||t[i].name===e[l].field)){n=e[l].index;break}if(n)break}return n}(e,function(){var e=[];if(s&&s.length)for(var t=0;t<s.length;t++)!0===s[t].pinnedLeft&&e.push(s[t]);return e}());s=e,l.initializeColumnWidths(),l.setPinContext(t);var n=o.getPinContainerElementFromTable(),i=o.getPinHeaderElementFromTable(),a=o.getPinContentElementFromTable();i.innerHTML="",M(i,0,m),n.replaceChild(i,n.children[0]),v(a,parseInt(i.style.minWidth,10));var r=o.getScrollContainerElementFromTable(),c=o.getScrollHeaderElementFromTable(),d=o.getScrollContentElementFromTable();c.innerHTML="",M(c,m,s.length);var C=parseInt(c.style.minWidth,10)-parseInt(d.style.paddingLeft,10);v(d,C),0===r.children.length&&r.appendChild(c),l.updateColumnWidth(0,0),l.setAriaColCount(o.getTableContainerElementFromTable(),e)},l.isColumnWidthChangeValid=function(e,t){var n=l.getColumnWidth(e)+t;return l.getValidColumnWidth(e,n)===n},l.getValidColumnWidth=function(e,t){var n=l.getColumnMaxWidth(e),i=l.getColumnMinWidth(e);return(i=i>$.Const.WIDTH_ALLOWED_MINIMUM_WIDTH?i:$.Const.WIDTH_ALLOWED_MINIMUM_WIDTH)&&t<i?t=i:n&&t>n&&(t=n),t},l.isColumnSplitterDraggable=function(e){return!1!==s[e].enableColumnResizing},l.getTotalColumnWidth=function(e){for(var t=0,n=e+1,i=0;i<n;i++)t+=l.getColumnWidth(i);return t},l.getIdxFromColumnName=function(e){for(var t=0;t<s.length;t++)if(s[t].field===e||s[t].name===e)return t;return-1},l.setHeaderCellSortDirection=function(e,t,n){var i,l=null,a=null;null!==n&&""!==n&&(a=n.toLowerCase().includes("desc")?"descending":"ascending"),e>-1&&(i=o.getHeaderCellSortIconElementFromTable(e),V(i),i.classList.add(T("")),null!==(l=o.getHeaderCellElementFromTable(e))&&l.parentElement.hasAttribute("aria-sort")&&l.parentElement.removeAttribute("aria-sort")),i=o.getHeaderCellSortIconElementFromTable(t),V(i),i.classList.add(T(n)),null!==(l=o.getHeaderCellElementFromTable(t))&&null!==a&&l.parentElement.setAttribute("aria-sort",a)},l.getScrollCanvasScrollLeftPosition=function(){return-1*o.getScrollCanvasElementFromTable().scrollLeft},l.getPinCanvasScrollLeftPosition=function(){return-1*o.getPinCanvasElementFromTable().scrollLeft};const G=function(e,t,n,i,a,o){let r=document.createDocumentFragment(),d=document.createDocumentFragment();for(let u=0;u<e.length;u++){let C=e[u];const E=u+t,p=document.createAttribute(A);p.value=E;let L=null,_=null;o?(L=F(C,n,i,a),L.classList.add($.Const.CLASS_PINNED_ROW)):(null!==S.start&&null!==S.end&&(i=S.start+m,a=S.end+m),L=F(C,n,i,a),c.dynamicRowHeightStatus&&(_=F(C,n,i,s.length-1),_.setAttributeNode(p.cloneNode()))),L.setAttributeNode(p),L.setAttribute(h,E+2);let g,T=L.childNodes;for(let e=0;e<T.length;e++)T[e].hasAttribute(f)&&(g=c.gridId+"_row"+L.getAttribute(h)+"_col"+T[e].getAttribute(f),T[e].setAttribute("id",g));r.appendChild(L),c.dynamicRowHeightStatus&&_&&d.appendChild(_),!0!==o&&null!==S.start&&null!==S.end&&l.updateVisibleCells(r)}return c.dynamicRowHeightStatus&&function(e,t,n){let i=document.createElement("div");i.style.position="absolute",i.style.visibility="hidden",i.style.height="auto",i.style.width="auto";const l=t.childNodes.length?t:e.cloneNode(!0);i.appendChild(l),document.body.appendChild(i);const a=i.childNodes,o=e.childNodes,r=n*$.Const.MAX_ROW_HEIGHT_ROWS;for(let s=0;s<a.length;s++){const e=a[s],t=o[s].vmo;let i=0;const l=e.childNodes;for(let a=0;a<l.length;a++){const e=l[a];if(!e.childNodes[0]||!e.childNodes[0].classList.contains($.Const.CLASS_SPLM_TABLE_ICON_CELL))if(e.childNodes[0]&&e.childNodes[0].classList.contains($.Const.CLASS_AW_TREE_COMMAND_CELL)){const t=e.getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_TEXT)[0];if(t){const e=t.offsetHeight+15;i=e>i?e:i}else i=n>i?n:i}else{const t=e.offsetHeight+11;i=t>i?t:i}}i=Math.min(Math.max(i,n),r),t.rowHeight=!t.rowHeight||i>t.rowHeight?i:t.rowHeight;const c=o[s].getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC);for(let n=0;n<c.length;n++)c[n].style.maxHeight=String(t.rowHeight)+"px"}document.body.removeChild(i)}(r,d,n),r};l.constructContentElement=function(e,t,n,i){if(!0===i){var l=o.getPinHeaderElementFromTable();return!0===c.showCheckBox?_||(_=!0,p+=32,l.lastChild.style.width=l.lastChild.clientWidth+32+"px",o.getScrollContainerElementFromTable().style.marginLeft=String(p)+"px"):!c.showCheckBox&&_&&(_=!1,p-=32,l.lastChild.style.width="",o.getScrollContainerElementFromTable().style.marginLeft=String(p)+"px"),G(e,t,n,0,m-1,i)}return G(e,t,n,m,s.length-1,i)};var j=function(e,t,n){var i=e.getElement(),l=e.getContentRowElements(),a=t||l.length-1,o=n||0;if(l&&l.length>0)for(;a>=o;a--){var r=l[a].getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP)[0]||l[a].getElementsByClassName($.Const.CLASS_TABLE_EDIT_CELL_TOP_ARRAY)[0];void 0!==r&&void 0!==r.parentElement.prop&&(r.parentElement.prop.isEditing=!1),$.util.cleanupComponents(l[a]),i.removeChild(l[a])}};return l.removeContentElement=function(e,t){j(o.queryPinContentFromTable(),e,t),j(o.queryScrollContentFromTable(),e,t)},l.clearScrollContents=function(){o.getScrollContentElementFromTable().innerHTML=""},l.setSelectable=function(e){e?a.classList.add($.Const.CLASS_SELECTION_ENABLED):a.classList.remove($.Const.CLASS_SELECTION_ENABLED)},l.setDraggable=function(e){for(var t=a.getElementsByClassName($.Const.CLASS_ROW),n=0;n<t.length;n++)t[n].draggable=e},l.showColumnGrip=function(e){l.setColumnGripPosition(e),E.style.removeProperty("display")},l.setColumnGripPosition=function(e){E.style.marginLeft=String(e-30)+"px"},l.hideColumnGrip=function(){E.style.display="none"},function(){var e=s,t=document.createElement("div");t.classList.add($.Const.CLASS_TABLE_CONTAINER),t.tabIndex=0,!0===c.gridOptions.useTree?t.setAttribute("role","treegrid"):t.setAttribute("role","grid"),"multiple"===c.dataProvider.selectionModel.mode?t.setAttribute("aria-multiselectable","true"):t.setAttribute("aria-multiselectable","false"),!0===c.gridOptions.enableCellHeaderSelection&&t.classList.add($.Const.CLASS_HEADER_SELECTION_ENABLED),l.setAriaRowCount(t),l.setAriaColCount(t,c.dataProvider.cols),a.appendChild(t),l.initializeColumnWidths(),l.setPinContext(),t.appendChild(function(){(E=document.createElement("div")).classList.add($.Const.CLASS_COLUMN_RESIZE_GRIP),E.style.position="absolute",E.style.height="100%";var e=document.createElement("div");return e.style.borderLeft="1px solid",e.style.marginLeft="30px",e.style.height="100%",E.appendChild(e),E.style.zIndex="1000",E.style.cursor="col-resize",E.style.outline="20px transparent",E.style.width="60px",E.style.display="none",E}());var n=document.createElement("div");n.classList.add($.Const.CLASS_PIN_CONTAINER),n.classList.add($.Const.CLASS_PIN_CONTAINER_LEFT),!0===c.gridOptions.transpose&&n.classList.add($.Const.CLASS_COMPARE_CONTAINER);var i=document.createElement("div");i.classList.add($.Const.CLASS_HEADER_ROW),M(i,0,m),n.appendChild(i);var o=document.createElement("div");o.classList.add($.Const.CLASS_CANVAS),o.classList.add($.Const.CLASS_VIEWPORT);var r=document.createElement("div");r.addEventListener("mouseleave",(function(){H()})),r.classList.add($.Const.CLASS_SCROLL_CONTENTS),v(r,parseInt(i.style.minWidth,10)),o.appendChild(r),n.appendChild(o),t.appendChild(n);var d=document.createElement("div");d.classList.add($.Const.CLASS_SCROLL_CONTAINER),d.style.marginLeft=String(p)+"px";var u=document.createElement("div");u.classList.add($.Const.CLASS_HEADER_ROW),M(u,m,e.length),d.appendChild(u);var C=document.createElement("div");C.classList.add($.Const.CLASS_VIEWPORT),C.classList.add($.Const.CLASS_CANVAS);var L=document.createElement("div");L.addEventListener("mouseleave",(function(){H()})),L.classList.add($.Const.CLASS_SCROLL_CONTENTS),v(L,parseInt(u.style.minWidth,10)),C.appendChild(L),d.appendChild(C),t.appendChild(d)}(),l.updateColorIndicatorElements=function(e){var t=o.getPinContentRowElementsFromTable();u.a.forEach(t,(function(t){var n=t.vmo;if(e.includes(n)){var i=t.getElementsByClassName($.Const.CLASS_AW_CELL_COLOR_INDICATOR)[0];if(i){var l=$.util.createColorIndicatorElement(n);i.parentElement.replaceChild(l,i)}}}))},l.syncContentRowHeights=function(e,t){if(e&&e.childNodes)for(let n=0;n<e.childNodes.length;n++){let t=e.childNodes[n],i=t.vmo;t.style.height=String(i.rowHeight)+"px"}if(t&&t.childNodes)for(let n=0;n<t.childNodes.length;n++){let e=t.childNodes[n],i=e.vmo;e.style.height=String(i.rowHeight)+"px"}},l},R=function(e){var t=e,n=t,i=this;return i.getWidth=function(){return $.util.numericProperty(n.style.width)||$.util.numericProperty(n.style.minWidth)||0},i.getElement=function(){return n},i.toHeader=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_ROW)[0],this},i.toCanvas=function(){return n=n.getElementsByClassName($.Const.CLASS_CANVAS)[0],this},i.toContentRow=function(e){return n=i.getContentRowElements()[e],this},i.getContentRowElements=function(){return n.getElementsByClassName($.Const.CLASS_ROW)},i.getHeaderCellElements=function(){return n.getElementsByClassName($.Const.CLASS_HEADER_CELL)},i.getContentCellElements=function(){return n.getElementsByClassName($.Const.CLASS_CELL)},i.toHeaderCell=function(e){return n=n.getElementsByClassName($.Const.CLASS_HEADER_CELL)[e],this},i.toHeaderCellContent=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_CELL_CONTENT)[0],this},i.toMenuItem=function(e){return n=n.getElementsByClassName($.Const.CLASS_AW_CELL_LIST_ITEM)[e],this},i.getMenuItemElements=function(){return n.getElementsByClassName($.Const.CLASS_AW_CELL_LIST_ITEM)},i.toContentCell=function(e){for(var t=n.getElementsByClassName($.Const.CLASS_CELL),i=0;i<t.length;i++)if(t[i].columnDef.index===e)return n=t[i],this;return n=null,this},i.getAwIconElement=function(){return n.getElementsByTagName($.Const.ELEMENT_AW_ICON)[0]},i.getTreeNodeToggleCommandElement=function(){return n.getElementsByClassName($.Const.CLASS_WIDGET_TREE_NODE_TOGGLE_CMD)[0]},i.getTreeCommandCellElement=function(e){return e.getElementsByClassName($.Const.CLASS_AW_TREE_COMMAND_CELL)[0]},i.toSortIndicator=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_CELL_SORT_ICON)[0],this},i.toColumnSplitter=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_CELL_SPLITTER)[0],this},i.toStringEditBox=function(){return n=n.getElementsByTagName($.Const.ELEMENT_STRING_EDIT_BOX)[0],this},i.toScrollContents=function(){return n=n.getElementsByClassName($.Const.CLASS_SCROLL_CONTENTS)[0],this},i.toHeaderRow=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_ROW)[0],this},i.toSortIcon=function(){return n=n.getElementsByClassName($.Const.CLASS_HEADER_CELL_SORT_ICON)[0],this},i.getCellCommandButtonElements=function(){return n.getElementsByClassName($.Const.CLASS_CELL_COMMAND_BAR)[0].getElementsByTagName("button")},i.queryPinContainerFromTable=function(){return n=t.getElementsByClassName($.Const.CLASS_PIN_CONTAINER)[0],this},i.queryScrollContainerFromTable=function(){return n=t.getElementsByClassName($.Const.CLASS_SCROLL_CONTAINER)[0],this},i.queryPinContentFromTable=function(){return i.queryPinContainerFromTable().toScrollContents()},i.queryScrollContentFromTable=function(){return i.queryScrollContainerFromTable().toScrollContents()},i.queryHeaderCellContentFromTable=function(e){return i.queryHeaderCellFromTable(e).toHeaderCellContent()},i.queryHeaderCellFromTable=function(e){var n=$.util.getTableController(t).getPinColumnCount();return e<n?i.queryPinContainerFromTable().toHeader().toHeaderCell(e):i.queryScrollContainerFromTable().toHeader().toHeaderCell(e-n)},i.queryFirstRowCellFromTable=function(e){return i.queryContentCellFromTable(0,e)},i.queryRowColumnCellElementsFromTable=function(e){var n=0,l=null,a=[],o=$.util.getTableController(t).getPinColumnCount();e<o?(n=e,l=i.getPinContentRowElementsFromTable()):(n=e-o,l=i.getScrollContentRowElementsFromTable());for(var r=0;r<l.length;r++)a.push(l[r].getElementsByClassName($.Const.CLASS_CELL)[n]);return a},i.queryAllRowCellElementsFromTable=function(){for(var e=[],t=i.getPinContentRowElementsFromTable(),n=0;n<t.length;n++)e.push(t[n]);for(var l=i.getScrollContentRowElementsFromTable(),a=0;a<l.length;a++)e.push(l[a]);return e},i.queryContentCellFromTable=function(e,n){return n<$.util.getTableController(t).getPinColumnCount()?i.queryPinContainerFromTable().toContentRow(e).toContentCell(n):i.queryScrollContainerFromTable().toContentRow(e).toContentCell(n)},i.queryTableMenu=function(e){return n=document.getElementById(e+"_menu"),this},i.queryResizeGripFromTable=function(){return n=t.getElementsByClassName($.Const.CLASS_COLUMN_RESIZE_GRIP)[0],this},i.queryContextMenuFromTable=function(){return n=document.getElementsByClassName($.Const.CLASS_AW_POPUP)[0],this},i.getContentCellElementsFromTable=function(){return n=t,i.getContentCellElements()},i.getRootElement=function(e){e||(e=$.Const.CLASS_AW_ROOT_ELEMENT);var t=document.getElementsByClassName(e)[0];return t||(t=document),t},i.getHeaderCellElementsFromTable=function(){return t.getElementsByClassName($.Const.CLASS_HEADER_CELL)||[]},i.getHeaderRowWidthFromTable=function(){return i.queryPinContainerFromTable().toHeader().getWidth()+i.queryScrollContainerFromTable().toHeader().getWidth()},i.getContentRowWidthFromTable=function(){return i.queryPinContainerFromTable().toContentRow(0).getWidth()+i.queryScrollContainerFromTable().toContentRow(0).getWidth()},i.getScrollCanvasElementFromTable=function(){return i.queryScrollContainerFromTable().toCanvas().getElement()},i.getPinCanvasElementFromTable=function(){return i.queryPinContainerFromTable().toCanvas().getElement()},i.getPropertyValueLinkElement=function(e,t){return e=e||0,(t||n).getElementsByClassName($.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS)[e]},i.getCellTextElementFromTableCell=function(e,t){return t=t||0,(e||n).getElementsByClassName($.Const.CLASS_WIDGET_TABLE_CELL_TEXT)[t]},i.getTableContainerElementFromTable=function(){return t.getElementsByClassName($.Const.CLASS_TABLE_CONTAINER)[0]},i.getPinContainerElementFromTable=function(){return i.queryPinContainerFromTable().getElement()},i.getScrollContainerElementFromTable=function(){return i.queryScrollContainerFromTable().getElement()},i.getPinContentElementFromTable=function(){return i.queryPinContentFromTable().getElement()},i.getScrollContentElementFromTable=function(){return i.queryScrollContentFromTable().getElement()},i.getPinContentRowElementsFromTable=function(){return i.queryPinContentFromTable().getContentRowElements()},i.getScrollContentRowElementsFromTable=function(){return i.queryScrollContentFromTable().getContentRowElements()},i.getPinHeaderElementFromTable=function(){return i.queryPinContainerFromTable().toHeaderRow().getElement()},i.getScrollHeaderElementFromTable=function(){return i.queryScrollContainerFromTable().toHeaderRow().getElement()},i.getPinContentRowElementFromTable=function(e){return i.getPinContentRowElementsFromTable()[e]},i.getScrollContentRowElementFromTable=function(e){return i.getScrollContentRowElementsFromTable()[e]},i.getContentCellFromTable=function(e,t){return i.queryContentCellFromTable(e,t).getElement()},i.getHeaderCellElementFromTable=function(e){return i.queryHeaderCellContentFromTable(e).getElement()},i.getHeaderCellSortIconElementFromTable=function(e){return i.queryHeaderCellContentFromTable(e).toSortIcon().getElement()},i},w={CLASS_TABLE:"aw-splm-table",CLASS_TABLE_CONTAINER:"aw-splm-tableContainer",CLASS_WIDGET_GRID:"aw-jswidgets-grid",CLASS_LAYOUT_COLUMN:"aw-layout-flexColumn",CLASS_WIDGET_TABLE_DROP:"aw-widgets-droppable",CLASS_SELECTION_ENABLED:"aw-jswidgets-selectionEnabled",CLASS_COMPARE_CONTAINER:"aw-compare-container",CLASS_PIN_CONTAINER:"aw-splm-tablePinnedContainer",CLASS_PIN_CONTAINER_LEFT:"aw-splm-tablePinnedContainerLeft",CLASS_SCROLL_CONTAINER:"aw-splm-tableScrollContainer",CLASS_HEADER_SELECTION_ENABLED:"aw-splm-tableHeaderSelectionEnabled",CLASS_HEADER_ROW:"aw-splm-tableHeaderRow",CLASS_COLUMN_DEF:"aw-splm-tableColumnDefAnchor",CLASS_COLUMN_MENU_POINTER_UP:"aw-splm-tableColumnMenuPointerUp",CLASS_COLUMN_MENU_POINTER_DOWN:"aw-splm-tableColumnMenuPointerDown",CLASS_COLUMN_MENU_POINTER_LEFT:"aw-splm-tableColumnMenuPointerLeft",CLASS_COLUMN_MENU_POINTER_RIGHT:"aw-splm-tableColumnMenuPointerRight",CLASS_COLUMN_MENU_ENABLED:"aw-splm-tableColumnMenuEnabled",CLASS_HEADER_CELL:"aw-splm-tableHeaderCell",CLASS_HEADER_CELL_CONTENT:"aw-splm-tableHeaderCellContents",CLASS_HEADER_CLEARFIX:"aw-splm-tableClearfix",CLASS_HEADER_CELL_LABEL:"aw-splm-tableHeaderCellLabel",CLASS_HEADER_CELL_SPLITTER:"aw-splm-tableHeaderCellSplitter",CLASS_HEADER_CELL_SORT_ICON:"aw-splm-tableHeaderCellSortIcon",CLASS_HEADER_CELL_FILTER_ICON:"aw-splm-tableHeaderCellFilterIcon",CLASS_HEADER_CELL_FILTER_APPLIED_ICON:"aw-splm-tableHeaderCellFilterAppliedIcon",CLASS_HEADER_MENU_ITEM_SELECTED:"aw-splm-tableMenuItemSelected",CLASS_HEADER_CELL_INNER:"aw-splm-tableHeaderCellInner",CLASS_HEADER_ICON:"aw-splm-tableHeaderIcon",CLASS_HEADER_ICON_CONTAINER:"aw-splm-tableHeaderIconContainer",CLASS_HEADER_CELL_SELECTED:"aw-splm-tableHeaderCellSelected",CLASS_HEADER_DRAGGABLE:"aw-splm-tableDraggable",CLASS_NO_SELECT:"noselect",CLASS_CANVAS:"aw-splm-tableCanvas",CLASS_VIEWPORT:"aw-splm-tableViewport",CLASS_SCROLL_CONTENTS:"aw-splm-tableScrollContents",CLASS_TOP_SPACE:"aw-splm-tableTopSpace",CLASS_CELL_CONTENTS:"aw-splm-tableCellContents",CLASS_UI_GRID_ROW:"ui-grid-row",CLASS_ROW:"aw-splm-tableRow",CLASS_PINNED_ROW:"aw-splm-tablePinnedRow",CLASS_ROW_ICON:"aw-row-icon",CLASS_ROW_SELECTED:"ui-grid-row-selected",CLASS_ROW_HOVER:"aw-splm-tableHoverRow",CLASS_ROW_INACTIVATED:"ui-grid-row-inactivated",CLASS_COLUMN_RESIZE_GRIP:"aw-splm-tableColumnResizeGrip",CLASS_STATE_SELECTED:"aw-state-selected",CLASS_CELL:"ui-grid-cell",CLASS_CELL_DYNAMIC:"ui-grid-cellDynamic",CLASS_CELL_SELECTED:"ui-grid-cell-selected",CLASS_COLUMN_SELECTED:"ui-grid-columnSelected",CLASS_CELL_COMMAND_BAR:"aw-splm-commandBarPresent",CLASS_CELL_CHECK_MARK:"aw-splm-tableCheckMarkPresent",CLASS_CELL_CHECKBOX:"aw-splm-tableCheckBoxPresent",CLASS_CELL_CHECKBOX_BUTTON:"sw-property-val",CLASS_CELL_HOVER:"aw-splm-tableCellHover",CLASS_TABLE_CELL_SELECTED_EDITABLE:"aw-splm-tableCellSelectedEditable",CLASS_TABLE_CELL_SELECTED:"aw-splm-tableCellSelected",CLASS_WIDGET_TABLE_CELL:"aw-jswidgets-tablecell",CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS:"aw-splm-tablePropertyValueLinks",CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED:"aw-splm-tablePropertyValueLinksDisabled",CLASS_TABLE_CELL_TOP:"aw-splm-tableCellTop",CLASS_TABLE_CELL_TOP_DYNAMIC:"aw-splm-tableCellTopDynamic",CLASS_WIDGET_TABLE_NON_EDIT_CONTAINER:"aw-jswidgets-tableNonEditContainer",CLASS_WIDGET_TABLE_CELL_TEXT:"aw-splm-tableCellText",CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC:"aw-splm-tableCellTextDynamic",CLASS_WIDGET_TABLE_CELL_DRAG_HANDLE:"aw-jswidgets-draghandle",CLASS_WIDGET_TREE_NODE_TOGGLE_CMD:"aw-jswidgets-treeExpandCollapseCmd",CLASS_TABLE_EDIT_CELL_TOP:"aw-splm-tableEditCellTop",CLASS_TABLE_EDIT_CELL_TOP_ARRAY:"aw-splmtableEditCellTopArray",CLASS_TABLE_EDIT_CELL_NON_ARRAY:"aw-splm-tableEditNonArray",CLASS_TABLE_EDIT_CELL_ARRAY:"aw-splm-tableEditArray",CLASS_TABLE_NON_EDIT_CELL_LIST:"aw-jswidgets-arrayNonEditValueCellList",CLASS_TABLE_NON_EDIT_CELL_LIST_ITEM:"aw-jswidgets-arrayValueCellListItem",CLASS_WIDGET_UI_NON_EDIT_CELL:"aw-jswidgets-uiNonEditCell",CLASS_TREE_ROW_HEADER_BUTTONS:"ui-grid-tree-base-row-header-buttons",CLASS_TREE_BASE_HEADER:"ui-grid-tree-base-header",CLASS_GRID_CELL_COLOR_CONTAINER:"aw-widgets-gridCellColorContainer",CLASS_TREE_COLOR_CONTAINER:"aw-widgets-treeTableColorContainer",CLASS_CELL_INTERACTION:"aw-widgets-cellInteraction",CLASS_GRID_CELL_IMAGE:"aw-widgets-dataGridCellImage",CLASS_AW_TREE_COMMAND_CELL:"aw-splm-tableTreeCommandCell",CLASS_NATIVE_CELL_COMMANDS:"aw-splm-tableGridCellCommands",CLASS_COMPILED_ELEMENT:"aw-splm-tableCompiledElement",CLASS_LAYOUT_ROW_CONTAINER:"aw-layout-flexRowContainer",CLASS_ICON_BASE:"aw-base-icon",CLASS_ICON_TYPE:"aw-type-icon",CLASS_SPLM_TABLE_ICON:"aw-splm-tableIcon",CLASS_SPLM_TABLE_ICON_CONTAINER:"aw-splm-tableIconContainer",CLASS_SPLM_TABLE_ICON_CELL:"aw-splm-tableIconCell",CLASS_ICON_SORT_ASC:"aw-splm-tableIconUpDir",CLASS_ICON_SORT_DESC:"aw-splm-tableIconDownDir",CLASS_ICON_NON_SORTABLE:"aw-splm-tableIconBlank",CLASS_ICON_SORTABLE:"aw-splm-tableIconSortable",CLASS_UTILITY_INVISIBLE:"invisible",CLASS_UTILITY_HIDDEN:"hidden",COLUMN_ICON:"icon",CLASS_TABLE_MENU_CONTAINER:"aw-splm-tableMenuContainer",CLASS_TABLE_MENU_POPUP:"aw-splm-tableMenuPopup",CLASS_TABLE_MENU_ITEM:"aw-splm-tableMenuItem",CLASS_TABLE_MENU_INPUT:"aw-splm-tableMenuInput",CLASS_TABLE_MENU_POINTER:"aw-splm-tableMenuPointer",CLASS_TABLE_MENU_POINTER_BACK:"aw-splm-tableMenuPointerBack",CLASS_TABLE_MENU_POINTER_BACK_LEFT:"aw-splm-tableMenuPointerBackLeft",CLASS_TABLE_MENU_POINTER_BACK_RIGHT:"aw-splm-tableMenuPointerBackRight",CLASS_TABLE_MENU_POINTER_FRONT:"aw-splm-tableMenuPointerFront",CLASS_TABLE_MENU_POINTER_FRONT_LEFT:"aw-splm-tableMenuPointerFrontLeft",CLASS_TABLE_MENU_POINTER_FRONT_RIGHT:"aw-splm-tableMenuPointerFrontRight",CLASS_TABLE_MENU:"aw-splm-tableMenu",CLASS_TABLE_MENU_BUTTON:"aw-splm-tableMenuButton",CLASS_TABLE_SCROLLED:"aw-splm-tableScrolled",CLASS_AW_POPUP:"aw-layout-popup",CLASS_AW_POPUP_OVERLAY:"aw-layout-popupOverlay",CLASS_AW_CELL_LIST_ITEM:"aw-widgets-cellListItem",CLASS_AW_CELL_TOP:"aw-widgets-cellTop",CLASS_AW_JS_CELL_TOP:"aw-jswidgets-cellTop",CLASS_AW_EDIT_CONTAINER:"aw-jswidgets-tableEditContainer",CLASS_AW_IS_EDITING:"aw-jswidgets-isEditing",CLASS_AW_EDITABLE_CELL:"aw-jswidgets-editableGridCell",CLASS_AW_ROOT_ELEMENT:"aw-layout-mainView",CLASS_AW_CELL_COMMANDS:"aw-jswidgets-gridCellCommands",CLASS_AW_CELL_COMMANDS_CONTAINER:"aw-splm-gridCellCommandsContainer",CLASS_AW_OLD_TEXT:"aw-jswidgets-oldText",CLASS_AW_CHANGED_TEXT:"aw-jswidgets-change",CLASS_AW_DISABLED_MENU_ITEM:"aw-widgets-disabledMenuItem",CLASS_ICON_FREEZE:"aw-splm-tableIconFreeze",CLASS_ICON_HIDE:"aw-splm-tableIconHide",CLASS_COLUMN_MENU_FILTER_CONTAINER:"column-filter-container",CLASS_COLUMN_MENU_FACET_CONTAINER:"facet-filter-container",CLASS_CELL_CHANGED:"changed",CLASS_AW_TOOLTIP_POPUP:"aw-propertyrenderjs-tooltipPopup",CLASS_TOOLTIP_POPUP:"aw-splm-tableTooltipPopup",CLASS_AW_SHOW_DECORATORS:"aw-widgets-showDecorators",CLASS_AW_CELL_COLOR_INDICATOR:"aw-widgets-gridCellColorIndicator",CLASS_CELL_COLOR_INDICATOR:"aw-splm-tableCellColorIndicator",CLASS_TABLE_RTF_CELL_ITEM:"aw-splm-tableRTFCellItem",CLASS_THEME_DROP_FRAME:"aw-theme-dropframe",CLASS_WIDGETS_DROP_FRAME:"aw-widgets-dropframe",CLASS_DONOT_HIGHLIGHT_INDIVIDUAL_ROWS:"aw-noeachrow-highlight-dropframe",CLASS_PINNED_CONTAINER_DROP_FRAME:"aw-splm-tablePinnedContainerDropFrame",CLASS_SCROLL_CONTAINER_DROP_FRAME:"aw-splm-tableScrollContainerDropFrame",WIDTH_COLUMN_SPLITTER:5,WIDTH_MINIMUM_EXTRA_SPACE:45,WIDTH_ALLOWED_MINIMUM_WIDTH:25,WIDTH_DEFAULT_ICON_COLUMN_WIDTH:40,WIDTH_DEFAULT_MINIMUM_WIDTH:150,WIDTH_DEFAULT_MENU_WIDTH:175,CUSTOM_CELL_LEFTPADDING_DEFAULT_SPACE:4,DOUBLE_CLICK_DELAY:300,HEIGHT_HEADER:24,HEIGHT_COMPACT_ROW:24,HEIGHT_ROW:32,MAX_ROW_HEIGHT_ROWS:7,COLUMN_MENU_POINTER_HEIGHT:10,ELEMENT_STRING_EDIT_BOX:"textarea",ELEMENT_CONTEXT_MENU:"aw-popup-command-bar",ELEMENT_AW_ICON:"aw-icon",ELEMENT_AW_COMMAND:"aw-command"};w.ELEMENT_TABLE=w.CLASS_TABLE,w.EVENT_ON_ELEM_DRAG_START="onElementDragStart",w.EVENT_ON_ELEM_DRAG_END="onElementDragEnd",w.EVENT_ON_ELEM_DRAG="onElementDrag",w.EVENT_ON_ELEM_CLICK="onElementClick",w.EVENT_ON_ELEM_DOUBLE_CLICK="onElementDoubleClick";var P=w,M=n(965),B=function(e,t,n,i){var l=this,a=e,o=n,s=o.dataProvider,c=o.gridOptions,d=o.messages,E=new $.Trv(e),m=n.keyboardService,p=null,L=[];o.menuService=l;const _=function(e,t){setTimeout((function(){const n=t&&$.util.isBulkEditing(a);e&&document.activeElement&&"BODY"===document.activeElement.tagName&&!n&&e.focus()}),150)};l.addGridMenu=function(){const e=d.gridMenu,t='<div class="aw-commands-svg"><button type="button" class="aw-commands-commandIconButton icon-override" tabindex="-1" title="'+e+'" aria-label="'+e+'" >'+M.svgString+"</button></div>";let n=$.util.createElement("div","aw-splm-tableMenuButton");n.innerHTML=t;let r=n.querySelector("button");m.setOnFocusAndBlur(r),a.insertBefore(n,a.children[0]),function(){var e=a.getElementsByClassName("aw-splm-tableMenuButton")[0],t=function(t,n){i({type:"UPDATE_VALUES",isBulkEditing:o.isBulkEditing,dynamicRowHeightStatus:o.dynamicRowHeightStatus}),t.preventDefault();let a=c.popupContext.gridMenuPopup;if(a)if(l.gridMenuPopupRef)l.ensureTableMenuDismissed();else{const t={forceCloseOthers:!1,whenParentScrolls:"close",reference:e,placement:"bottom-end",hasArrow:!0,autoFocus:!0,innerClassName:"aw-popup-gridMenu",padding:{x:4,y:4},hooks:{whenClosed:()=>{l.gridMenuPopupRef=null,_(n)}}};a.show(t).then((e=>{l.gridMenuPopupRef=e}))}};e.addEventListener("click",t),e.addEventListener("keydown",(function(n){D.default.isValidKeyPress(n)&&t(n,e)}))}()};l.setContextSelectionHelper=function(e){p=e},l.contextSelectionHandler=function(e){if("a"===e.target.tagName.toLowerCase()&&""!==e.target.href)return;if(!0!==c.showContextMenu)return;e.preventDefault(),e.cancelBubble=!0;let t=$.util.closestElement(e.target,"."+$.Const.CLASS_CELL),n=c.popupContext.contextMenuPopup;if(n){const i={whenParentScrolls:"close",resizeToClose:!0,targetEvent:e,reference:e.target,autoFocus:!0,forceCloseOthers:!1,hooks:{whenClosed:()=>{_(t,!0)}}};n.hide().then((()=>{n.show(i)}))}var l=e.currentTarget;let o=[l.vmo];if(i({type:"UPDATE_VALUES",contextVmo:o}),!l.classList.contains("aw-state-selected")&&!l.classList.contains("ui-grid-row-selected")){for(;a.getElementsByClassName("aw-state-selected").length>0;)a.getElementsByClassName("aw-state-selected")[0].classList.remove("aw-state-selected"),a.getElementsByClassName("ui-grid-row-selected")[0].classList.remove("ui-grid-row-selected");!function(e,t,n,i){var l=t.mode;t.setMode("single"),p.handleSelectionEvent(e,t,n,i),t.setMode(l)}(o,s.selectionModel,e)}};l.loadDefaultColumnMenus=function(){var e=function(e){for(var t=0,n=0;n<e.length;n++)e[n].index>t&&e[n].pinnedLeft&&(t=e[n].index);return t}(s.cols),t=c.addIconColumn?1:0;e>0&&(t=e),i&&i({type:"UPDATE_VALUES",defaultColumnPinIndex:t})},l.ensureAllTableMenusDismissed=function(){l.ensureColumnMenuDismissed(),l.ensureTableMenuDismissed()},l.ensureTableMenuDismissed=function(){l.gridMenuPopupRef&&c.popupContext.gridMenuPopup.hide(),l.gridMenuPopupRef=null},l.ensureColumnMenuDismissed=function(){l.columnMenuPopupRef&&c.popupContext.columnMenuPopup.hide(),l.columnMenuPopupRef=null},l.createColumnMenuElement=function(){var e=document.createElement("div");e.id=a.id+"_menu",e.classList.add($.Const.CLASS_TABLE_MENU),e.classList.add($.Const.CLASS_TABLE_MENU_POPUP),e.setAttribute("role","menu");var t=document.createElement("div");return t.id=a.id+"_menuContainer",t.classList.add($.Const.CLASS_TABLE_MENU_CONTAINER),t.classList.add("afx-content-background"),t.classList.add("aw-widgets-groupCommandStack"),t.appendChild(e),t},l.menuElements=[];return l.columnMenuHandler=function(e,t){var o=e.columnDef;return function(t){if(function(e){return $.util.isBulkEditing(a)||!1===e.enableColumnMenu||$.util.isCellEditing(a)}(o))return;t.preventDefault();$.util.closestElement(a,"."+$.Const.CLASS_TABLE_MENU_CONTAINER);var s;(s=t.currentTarget)&&s.dataset&&s.dataset.popupId&&"null"!==s.dataset.popupId&&l.columnMenuPopupRef?l.ensureColumnMenuDismissed():(!function(e,t,n,a){const o=()=>{const t=e,{width:n,height:i}=t.getBoundingClientRect();return{x:-n/2,y:-i/2}};let s=c.popupContext.columnMenuPopup;if(s){const t={whenParentScrolls:"close",ignoreReferenceClick:!0,ignoreClicksFrom:[".flatpickr-calendar"],reference:e,placement:"right",adaptiveShift:!0,autoFocus:!0,selectedElementCSS:".aw-state-selected",innerClassName:"sw-table-menu-tooltip",hasArrow:!0,forceCloseOthers:!1,padding:o(),width:"185px",arrowOptions:{alignment:"center",offset:5,shift:15},hooks:{whenClosed:()=>{C.default.unRegisterCtx("columnMenuContext"),L.length&&(u.a.forEach(L,(function(e){r.a.unsubscribe(e)})),L.length=0),_(a)}}};C.default.registerCtx("columnMenuContext",{}),s.hide().then((()=>{s.show(t).then((e=>{l.columnMenuPopupRef=e,i({type:"UPDATE_VALUES",popupRef:e})}))}))}}(t.currentTarget,0,0,e.parentElement),n.columnMenuLoaded=!0)}},l.setFilterDisability=function(e){var t=E.queryTableMenu(a.id).getElement().getElementsByClassName("filter-button")[0];t&&(e?t.classList.add("disabled"):t.classList.remove("disabled"))},l},H=n(507),W=n(315),x=n(35);let F;F={closestElement:function(e,t,n){var i,l;e&&"undefined"!==typeof e.length&&e.length&&(e=e[0]),["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"===typeof document.body[e]&&(i=e,!0)}));for(var a=1;e;){if(void 0!==n&&a>n)return null;if((l=e.parentElement)&&l[i](t))return l;e=l,a++}return null},destroyElement:function(e){var t=e.parentElement;t&&t.removeChild(e)},destroyChildElements:function(e,t){for(var n=e.getElementsByClassName(t),i=n.length;i>0;i--){var l=n[i-1];F.destroyElement(l)}}};var U=F,V=n(58),k={closestElement:function(e,t,n){return x.a.closestElement(e,t,n)},getIndexInParent:function(e){for(var t=0;e.previousElementSibling;)e=e.previousElementSibling,t++;return t},getColumnContentCellElementsByIndex:function(e,t){var n=[],i=e.getElementsByClassName($.Const.CLASS_CELL);return u.a.forEach(i,(function(e){e.columnDef&&e.columnDef.index===t&&n.push(e)})),n},getPropertyByCellElement:function(e){var t=k.closestElement(e,"."+$.Const.CLASS_ROW);return t.vmo&&t.vmo.props?t.vmo.props[e.columnDef.field]:null},getViewModelObjectByCellElement:function(e){return e.parentElement.vmo},getCellElementsByPropertyAndUid:function(e,t,n){let i=[];const l=e.getElementsByClassName($.Const.CLASS_ROW);for(let a=0;a<l.length;a++)if(l[a].vmo&&Object(V.b)(l[a].vmo)===n){let e=l[a].getElementsByClassName($.Const.CLASS_CELL);for(let n=0;n<e.length;n++)e[n].columnDef&&e[n].columnDef.field===t&&i.push(e[n])}return i},cleanupComponents:function(e){Object(_.e)(e,".aw-splm-gridCellCommandsContainer, .aw-jswidgets-treeExpandCollapseCmd, .aw-jswidgets-tableEditContainer")},createNgElement:function(e,t,n,i){},destroyElement:function(e){U.destroyElement(e)},destroyChildElements:function(e){U.destroyChildElements(e,$.Const.CLASS_COMPILED_ELEMENT)},getElementTextWidth:function(e){var t=0,n=e.cloneNode(!0);return n.style.position="absolute",n.style.visibility="hidden",n.style.height="auto",n.style.width="auto",n.style.whiteSpace="nowrap",e.parentElement&&(e.parentElement.appendChild(n),t=Math.round(n.clientWidth)+10,e.parentElement.removeChild(n)),t},createElement:function(){for(var e=document.createElement(arguments[0]),t=1;t<arguments.length;t++)e.classList.add(arguments[t]);return e},addAttributeToDOMElement:function(e,t,n){var i=document.createAttribute(t);return i.value=n,e.setAttributeNode(i),e},createColorIndicatorElement:function(e){var t=null;return t=e.gridDecoratorStyle?$.util.createElement("span",e.gridDecoratorStyle,$.Const.CLASS_AW_CELL_COLOR_INDICATOR,$.Const.CLASS_CELL_COLOR_INDICATOR):$.util.createElement("span",$.Const.CLASS_AW_CELL_COLOR_INDICATOR,$.Const.CLASS_CELL_COLOR_INDICATOR),e.colorTitle&&(t.title=e.colorTitle),t},createCustomEvent:function(e,t){if(a.default.isNonEdgeIE){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}return new CustomEvent(e,{detail:t})},getTableController:function(e){return k.getTableInstance(e).controller},getTableMenuService:function(e){return k.getTableInstance(e).menuService},getTableInstance:function(e){return e._tableInstance},isBulkEditing:function(e){return k.getTableInstance(e).isBulkEditing},setIsBulkEditing:function(e,t){k.getTableInstance(e).isBulkEditing=t},isCellEditing:function(e){return k.getTableInstance(e).isCellEditing},setIsCellEditing:function(e,t){k.getTableInstance(e).isCellEditing=t},createObjectWithArgs:function(e){return function(){var t=function(t){return e.apply(this,t)};return t.prototype=e.prototype,function(){return new t(arguments)}}()},showHideElement:function(e,t){t?e.classList.remove("hiddenUtility"):e.classList.add("hiddenUtility")}},G=function(e){var t=e.rowHeight,n=e.headerHeight,i={isOptionValid:!1,rowHeight:null,headerHeight:null,iconCellRendererHeight:null,classes:null};switch(t){case"small oversize":case"LARGE":i.rowHeight=56,i.iconCellRendererHeight=48,i.isOptionValid=!0,i.classes=t.split(" ");break;case"medium oversize":case"XLARGE":i.rowHeight=72,i.iconCellRendererHeight=64,i.isOptionValid=!0,i.classes=t.split(" ");break;case"large oversize":case"XXLARGE":i.rowHeight=88,i.iconCellRendererHeight=80,i.isOptionValid=!0,i.classes=t.split(" ")}switch(n){case"small oversize":case"LARGE":i.headerHeight=56;break;case"medium oversize":case"XLARGE":i.headerHeight=72;break;case"large oversize":case"XXLARGE":i.headerHeight=88;break;default:if("number"===typeof n)i.headerHeight=n;else if("string"===typeof n){let e=parseInt(n,10);Number.isNaN(e)||(i.headerHeight=e)}}return i};k.validateRowHeightGridOption=function(e){return!0===G(e).isOptionValid},k.getTableRowHeight=function(e,t){var n=G(e);return null===n.rowHeight?t:n.rowHeight},k.getTableRowHeightForIconCellRenderer=function(e,t){var n=G(e);return null===n.iconCellRendererHeight?t:n.iconCellRendererHeight},k.addCSSClassForRowHeight=function(e,t){var n=G(t);if(n.isOptionValid)for(var i=n.classes,l=0;l<i.length;l++)e.classList.add(i[l].toLowerCase())},k.numericProperty=function(e){var t=e?parseInt(e):void 0;return isNaN(t)?void 0:t},k.getSortCriteria=function(e,t){var n=t.getSortCriteria(),i=u.a.find(n,(function(t){return t.fieldName===e.name||t.fieldName===e.field}));return i||{}},k.setSortCriteriaOnColumns=function(e,t){e.sortCriteria=e.getSortCriteria();for(var n=t.cols.length,i=0;i<n;i++){var l=t.cols[i];t.cols[i].sortDirection=k.getSortCriteria(l,e).sortDirection}},k.getImgURL=function(e){var t="";return e.hasThumbnail?t=e.thumbnailURL:e.typeIconURL?t=e.typeIconURL:e.iconURL&&(t=e.iconURL),t},k.syncHeader=function(e,t,n){let i=null,l=new $.Trv(e);i=!0===t?l.getPinHeaderElementFromTable():l.getScrollHeaderElementFromTable(),i.style.marginLeft=String(-1*n)+"px"},k.getTableHeaderHeight=function(e,t){var n=G(e);return null===n.headerHeight?t:n.headerHeight};const j=function(e){return!k.isBulkEditing(e)||k.isExpandOrPaginationAllowedInEdit(e)};k.isPaginationAllowed=function(e){return j(e)},k.isExpandAllowed=function(e){return j(e)},k.shouldRequestStartEditPagination=function(e){return $.util.isBulkEditing(e)},k.shouldRequestStartEditPropsLoaded=function(e){return $.util.isBulkEditing(e)},k.shouldRequestStartEditTreePagination=function(e,t){return $.util.isBulkEditing(e)&&!t},k.shouldRequestStartEditTreeExpand=function(e,t,n){return(t.__expandState||!t.__expandState&&!n)&&$.util.isBulkEditing(e)},k.requestStartEdit=function(e){const t=k.getTableInstance(e),n=t.dataProvider,i=t.declViewModel;if(!0===t.gridOptions.enableExpandAndPaginationInEdit)W.a.publishStartEditRequested(n);else if(n.getEditConfiguration()){const e={data:i,ctx:C.default.ctx};n.startEdit(e,i)}else i.getEditConfiguration()&&i.startEdit()},k.isExpandOrPaginationAllowedInEdit=function(e){const t=k.getTableInstance(e);return!0===t.gridOptions.enableExpandAndPaginationInEdit||!(!t.dataProvider.getEditConfiguration()&&!t.declViewModel.getEditConfiguration())},k.performStateServiceAction=function(e,t,n,i){if(t.grids[n].gridOptions&&!1===t.grids[n].gridOptions.enableExpansionStateCaching)return null;switch(e){case"clearAllStates":return H.a.clearAllStates(t,n);case"saveRowExpanded":return H.a.saveRowExpanded(t,n,i);case"saveRowCollapsed":return H.a.saveRowCollapsed(t,n,i);case"getTreeTableState":return H.a.getTreeTableState(t,n);case"isNodeExpanded":{const e=H.a.getTreeTableState(t,n);return H.a.isNodeExpanded(e,i)}default:return null}},k.isAutoSaveEnabled=function(e){const t=e._tableInstance;return!!(t&&t.gridOptions&&!0===t.gridOptions.forceAutoSave||C.default.getCtx("autoSave")&&!0===C.default.getCtx("autoSave.dbValue"))},k.isPropEditEnabled=function(e){const t=e._tableInstance;return!!(t&&t.dataProvider&&t.dataProvider.isPropEditEnabled)&&t.dataProvider.isPropEditEnabled(t.declViewModel)},k.isCellHeaderSelectionEnabled=function(e){return k.getTableInstance(e).gridOptions.enableCellHeaderSelection},k.isColumnSelectionEnabled=function(e){return k.getTableInstance(e).gridOptions.enableColumnSelection},k.getColumnDef=function(e,t){let n=null;for(let i of t.cols)if(i.field===e){n=i;break}return n};var q=k;let Y=function(e,t){t&&(m.a.isModified(e)?(e.dirty=!0,t.classList.add(P.CLASS_CELL_CHANGED)):(e.dirty=!1,t.classList.remove(P.CLASS_CELL_CHANGED)))},X=function(e,t,n,i){var l=null;if(u.a.forEach(e.cellRenderers,(function(a){return!a.processing&&a.condition(e,t,n,i)&&(a.processing=!0,l=a.action(e,t,n,i),delete a.processing),!l})),!l){(l=document.createElement("div")).classList.add(P.CLASS_TABLE_CELL_TOP),t.props&&t.props[e.field]&&!t.props[e.field].isArray&&t.props[e.field].uiValue&&(l.title=t.props[e.field].uiValue),n&&n._tableInstance.dynamicRowHeightStatus&&l.classList.add(P.CLASS_TABLE_CELL_TOP_DYNAMIC);const i=t.props&&t.props[e.field]?t.props[e.field].uiValue:"";if(i||!t.props||0===Object.keys(t.props).length){var a=document.createElement("span");a.classList.add(P.CLASS_WIDGET_TABLE_CELL_TEXT),a.textContent=i,l.appendChild(a)}}return l&&t.props&&t.props[e.field]&&Y(t.props[e.field],l),l};const z=function(e,t){const n=t.getElementsByClassName(P.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC)[0];n&&(n.style.maxHeight=String(e.rowHeight)+"px")};var K,J={createElement:X,createHeaderElement:function(e,t){var n=null;return u.a.forEach(e.headerRenderers,(function(i){return!i.processing&&i.condition(e,t)&&(i.processing=!0,n=i.action(e,t),delete i.processing),!n})),n},addDynamicCellHeight:z,updateCell:function(e,t,n,i){if(!e.isElementInEdit){var l=e.children[0],a=X(e.columnDef,t.vmo,n,t);!0===n._tableInstance.dynamicRowHeightStatus&&z(t.vmo,a);var o=null,r=null,s=null;!0===e.columnDef.isTreeNavigation?(r=a.getElementsByClassName(P.CLASS_WIDGET_TABLE_NON_EDIT_CONTAINER)[0],s=l.getElementsByClassName(P.CLASS_WIDGET_TABLE_NON_EDIT_CONTAINER)[0]):(r=a,s=l),(o=r.lastChild&&r.lastChild.classList?r.lastChild.classList:void 0)&&o.contains(P.CLASS_AW_CELL_COMMANDS_CONTAINER)||!s.lastChild||!s.lastChild.classList||!s.lastChild.classList.contains(P.CLASS_NATIVE_CELL_COMMANDS)||r.appendChild(s.lastChild),q.cleanupComponents(l),e.replaceChild(a,l),i.updateEditStatusForCell(e)}},updateCellChangedClass:Y},Z=n(2949);K={Const:P,util:q,Cell:J,Trv:R,Editor:v,Ctrl:O,MenuService:B,FillDownHelper:s,SelectionHelper:Z.default};var $=t.a=K},2949:function(e,t,n){"use strict";n.r(t),n.d(t,"setCellHeaderSelection",(function(){return u})),n.d(t,"selectColumnCells",(function(){return C})),n.d(t,"setCellColumnSelection",(function(){return E})),n.d(t,"updateContentRowSelection",(function(){return m})),n.d(t,"selectionChanged",(function(){return L}));var i=n(2918),l=n(3029),a=n(7),o=n(175),r=n(1),s=n.n(r);const c=function(e){const t=e.getElementsByClassName(i.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER)[0];t&&t.parentElement&&(i.a.util.cleanupComponents(e),t.parentElement&&t.parentElement.removeChild(t),i.a.util.destroyElement(t))},d=(e,t,n,a,o,r,d)=>{s.a.forEach(e,(function(e,s){const u=!0===t.transpose?e.columnDef.vmo:a.vmo,C=o._tableInstance.cellRenderer;u&&d.isSelected(u)?function(e,t,n,a,o,r,s,d,u){if(e.classList.add(i.a.Const.CLASS_CELL_SELECTED),!0===t.transpose)return void e.classList.add("ui-grid-columnSelected");if(!n[a].isTableCommand&&!n[a].isTreeNavigation)return;let C=e.children[0];if(n[a].isTreeNavigation&&e.getElementsByClassName("aw-jswidgets-tableNonEditContainer").length>0&&(C=e.getElementsByClassName("aw-jswidgets-tableNonEditContainer")[0]),o.resetHoverCommandElement(),C.lastChild&&C.lastChild.classList&&C.lastChild.classList.contains(i.a.Const.CLASS_NATIVE_CELL_COMMANDS)&&i.a.util.destroyElement(C.lastChild),0!==C.getElementsByClassName(i.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER).length&&r.multiSelectEnabled&&(C.lastChild.style.display="none"),s.getElementsByClassName(i.a.Const.CLASS_CELL_CHECKBOX_BUTTON).length>0&&(s.getElementsByClassName(i.a.Const.CLASS_CELL_CHECKBOX_BUTTON)[0].checked=!0),d.vmo.props){if(0===C.getElementsByClassName(i.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER).length&&!r.multiSelectEnabled&&1===r.getCurrentSelectedCount()){const e=l.a.createCellCommandElement(n[a],d.vmo,u,!0);C.appendChild(e)}C.getElementsByClassName(i.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER).length>=1&&"multiple"===r.mode&&r.getCurrentSelectedCount()>1&&c(C)}}(e,t,r,s,C,d,n,a,o):function(e,t,n,l,a,o,r){if(!t.enableColumnSelection||!e.classList.contains(i.a.Const.CLASS_COLUMN_SELECTED))if(e.classList.contains(i.a.Const.CLASS_CELL_SELECTED)&&e.classList.remove(i.a.Const.CLASS_CELL_SELECTED),!0!==t.transpose){if(n[l].isTableCommand||n[l].isTreeNavigation){let t=e.children[0];n[l].isTreeNavigation&&e.getElementsByClassName("aw-jswidgets-tableNonEditContainer").length>0&&(t=e.getElementsByClassName("aw-jswidgets-tableNonEditContainer")[0]),t.lastChild&&t.lastChild.classList&&t.lastChild.classList.contains(i.a.Const.CLASS_NATIVE_CELL_COMMANDS)&&(i.a.util.destroyElement(t.lastChild),a.destroyHoverCommandElement()),o.getElementsByClassName(i.a.Const.CLASS_CELL_CHECKBOX_BUTTON).length>0&&(o.getElementsByClassName(i.a.Const.CLASS_CELL_CHECKBOX_BUTTON)[0].checked=!1),t.lastChild&&t.lastChild.classList&&t.lastChild.classList.contains(i.a.Const.CLASS_AW_CELL_COMMANDS)&&(r.multiSelectEnabled?t.lastChild.style.display="none":t.lastChild.style.removeProperty("display")),c(t)}}else e.classList.remove("ui-grid-columSelected")}(e,t,r,s,C,n,d)}))},u=function(e,t){if(function(e){let t=e.querySelectorAll(".".concat(i.a.Const.CLASS_COLUMN_DEF)),n=s.a.find(t,{columnDef:{colSelected:!0}});n&&(delete n.columnDef.colSelected,e._tableInstance&&e._tableInstance.dataProvider&&e._tableInstance.dataProvider.gridContextDispatcher&&e._tableInstance.dataProvider.gridContextDispatcher({type:"UPDATE_VALUES",selectedColumn:null}));let l=e.querySelectorAll(".".concat(i.a.Const.CLASS_HEADER_CELL_SELECTED,", .").concat(i.a.Const.CLASS_COLUMN_SELECTED));for(let a=0;a<l.length;a++)l[a].classList.remove(i.a.Const.CLASS_HEADER_CELL_SELECTED,i.a.Const.CLASS_CELL_SELECTED,i.a.Const.CLASS_COLUMN_SELECTED)}(t),e&&e.propName){const n=e.propName;let l=t.querySelectorAll(".".concat(i.a.Const.CLASS_COLUMN_DEF)),a=s.a.find(l,{columnDef:{field:n}});a&&a.parentElement&&a.parentElement.classList.add(i.a.Const.CLASS_HEADER_CELL_SELECTED)}},C=function(e,t){u({propName:t},e);let n=e.querySelectorAll(".".concat(i.a.Const.CLASS_COLUMN_DEF)),l=s.a.find(n,{columnDef:{field:t}});l&&l.columnDef&&(l.columnDef.colSelected=!0);const a=e.querySelectorAll(".".concat(i.a.Const.CLASS_CELL)),o=s.a.filter(a,{propName:t});for(let r=0;r<o.length;r++)o[r].classList.add(i.a.Const.CLASS_COLUMN_SELECTED,i.a.Const.CLASS_CELL_SELECTED)},E=function(e,t){e.selectNone(),e.gridContextDispatcher&&e.gridContextDispatcher({type:"UPDATE_VALUES",selectedColumn:t})},m=function(e,t,n,l,a){const o=n.length,r=a._tableInstance.gridOptions;if(!0===r.transpose){const t=new i.a.Trv(a).getHeaderCellElementsFromTable();for(let n=0;n<t.length;n++){const l=t[n],a=t[n].getElementsByClassName(i.a.Const.CLASS_COLUMN_DEF)[0];a&&a.columnDef.vmo&&e.isSelected(a.columnDef.vmo)?l.classList.add(i.a.Const.CLASS_HEADER_CELL_SELECTED):l.classList.remove(i.a.Const.CLASS_HEADER_CELL_SELECTED)}}for(let c=0;c<o;c++){const o=l[c],u=n[c];let C=Array.prototype.slice.call(u.getElementsByClassName(i.a.Const.CLASS_CELL));C=C.concat(Array.prototype.slice.call(o.getElementsByClassName(i.a.Const.CLASS_CELL))),o.vmo?e.isSelected(o.vmo)?(e.isSelectionModelActivated()?o.classList.contains(i.a.Const.CLASS_ROW_INACTIVATED)&&(o.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED),u.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED)):(o.classList.add(i.a.Const.CLASS_ROW_INACTIVATED),u.classList.add(i.a.Const.CLASS_ROW_INACTIVATED),a._tableInstance.editor.removeAllCellSelection()),o.classList.add(i.a.Const.CLASS_ROW_SELECTED),o.classList.add(i.a.Const.CLASS_STATE_SELECTED),o.setAttribute("aria-selected","true"),u.classList.add(i.a.Const.CLASS_ROW_SELECTED),u.classList.add(i.a.Const.CLASS_STATE_SELECTED),u.setAttribute("aria-selected","true"),d(C,r,u,o,a,t,e)):((o.classList.contains(i.a.Const.CLASS_ROW_SELECTED)||o.classList.contains(i.a.Const.CLASS_STATE_SELECTED))&&(o.classList.remove(i.a.Const.CLASS_ROW_SELECTED),o.classList.remove(i.a.Const.CLASS_STATE_SELECTED),o.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED),o.hasAttribute("aria-selected")&&o.removeAttribute("aria-selected")),(u.classList.contains(i.a.Const.CLASS_ROW_SELECTED)||u.classList.contains(i.a.Const.CLASS_STATE_SELECTED))&&(u.classList.remove(i.a.Const.CLASS_ROW_SELECTED),u.classList.remove(i.a.Const.CLASS_STATE_SELECTED),u.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED),u.hasAttribute("aria-selected")&&u.removeAttribute("aria-selected")),d(C,r,u,o,a,t,e)):(o.classList.remove(i.a.Const.CLASS_ROW_SELECTED),o.classList.remove(i.a.Const.CLASS_STATE_SELECTED),o.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED),u.classList.remove(i.a.Const.CLASS_ROW_SELECTED),u.classList.remove(i.a.Const.CLASS_STATE_SELECTED),u.classList.remove(i.a.Const.CLASS_ROW_INACTIVATED),s.a.forEach(C,(function(e){e.classList.remove(i.a.Const.CLASS_CELL_SELECTED)})))}},p=function(e,t,n,i,l){if(function(e,t,n,i){o.a.handleSelectionEvent(e,t,n,i.viewModelCollection)}([e],n,t,i),t.ctrlKey){let e={selectedObjects:i.getSelectedObjects(),selectedUids:n.getSelection(),selectionModel:n,selected:i.getSelectedObjects(),dataProviderName:i.name,dataProvider:i};a.a.publish("".concat(i.name,".selectionChangeEvent"),e)}const r=l._tableInstance.gridId;a.a.publish(r+".gridSelection",{selectedObjects:i.getSelectedObjects()})},L=function(e,t){return function(n){const l=t||n.target;if("a"===l.tagName.toLowerCase()&&""!==l.href)return;if(i.a.util.closestElement(l,".".concat(i.a.Const.CLASS_TREE_ROW_HEADER_BUTTONS)))return;if(i.a.util.closestElement(l,".aw-command"))return;const a=e._tableInstance.dataProvider;let o=i.a.util.closestElement(l,"."+i.a.Const.CLASS_ROW),r=o&&o.vmo&&function(e,t){let n=e.alternateID||e.uid,i=t.viewModelCollection.findViewModelObjectById(n);return t.viewModelCollection.loadedVMObjects[i]}(o.vmo,a),s=i.a.util.closestElement(l,"."+i.a.Const.CLASS_CELL);!s&&n.currentTarget.columnDef&&(s=n.currentTarget);if(!0===e._tableInstance.gridOptions.transpose){if(!(s&&s.columnDef&&s.columnDef.vmo))return;r=s.columnDef.vmo}const c=a.selectionModel;if(c&&r&&r.props){const t=!r.selected,l=i.a.util.closestElement(n.target,"."+i.a.Const.CLASS_CELL_CHECKBOX),o=r.selected&&n.ctrlKey,s=a.getSelectedObjects().length,d=r.selected&&s>1&&!c.multiSelectEnabled;if(t||l||o||d)p(r,n,c,a,e);else if(c.getSelection()[0]===r.uid||r.alternateID&&r.alternateID===c.getSelection()[0]){a.selectionModel.setSelectionModelActivated(!0);let e=a.selectionModel.selectionData;e&&e.update({...e.value,selected:a.getSelectedObjects()})}}}};t.default={selectionChanged:L,updateContentRowSelection:m,setCellHeaderSelection:u,setCellColumnSelection:E,selectColumnCells:C}},2975:function(e,t,n){"use strict";var i=n(1),l=n.n(i),a=n(7),o=n(2918),r={},s=function(e){var t=e.currentTarget,n=function(e){return e.originalEvent&&(e=e.originalEvent),e.preventDefault(),!1},i=function(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),e.cancelBubble=!0,t.dispatchEvent(o.a.util.createCustomEvent(o.a.Const.EVENT_ON_ELEM_DRAG,e))},l=function(a){a.originalEvent&&(a=e.originalEvent),a.preventDefault(),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",i),document.removeEventListener("mousedown",n),document.removeEventListener("mouseover",n),a.cancelBubble=!0,t.dispatchEvent(o.a.util.createCustomEvent(o.a.Const.EVENT_ON_ELEM_DRAG_END,a))};!function(e){var a=!1,r=function(){t.removeEventListener("mouseup",r),a=!1};a=!0,t.addEventListener("mouseup",r),setTimeout((function(){var s;!0===a&&(r(),(s=e).originalEvent&&(s=s.originalEvent),s.preventDefault(),s.cancelBubble=!0,document.addEventListener("mouseup",l),document.addEventListener("mousemove",i),document.addEventListener("mousedown",n),document.addEventListener("mouseover",n),t.dispatchEvent(o.a.util.createCustomEvent(o.a.Const.EVENT_ON_ELEM_DRAG_START,s)))}),160)}(e)};a.a.subscribe("dragDropEvent.highlight",(function(e){r.handleDragDropHighlightPLTable(e)}));var c=function(e,t,n){t?n?e.classList.add(n):(e.classList.add(o.a.Const.CLASS_THEME_DROP_FRAME),e.classList.add(o.a.Const.CLASS_WIDGETS_DROP_FRAME)):n?e.classList.remove(n):(e.classList.remove(o.a.Const.CLASS_THEME_DROP_FRAME),e.classList.remove(o.a.Const.CLASS_WIDGETS_DROP_FRAME))},d=function(e,t,n,i){l.a.forEach(e,(function(e){e.children&&(c(e,i,n?o.a.Const.CLASS_DONOT_HIGHLIGHT_INDIVIDUAL_ROWS:t?o.a.Const.CLASS_PINNED_CONTAINER_DROP_FRAME:o.a.Const.CLASS_SCROLL_CONTAINER_DROP_FRAME),l.a.forEach(e.children,(function(e){n?c(e,i,o.a.Const.CLASS_DONOT_HIGHLIGHT_INDIVIDUAL_ROWS):c(e,i)})))}))},u=function(e,t,n){var i=null,a=null;if(n)c(e,t),i=e.querySelector(".aw-splm-tablePinnedContainer"),a=e.querySelector(".aw-splm-tableScrollContainer");else{var r=o.a.util.closestElement(e,".aw-splm-table");i=r.querySelector(".aw-splm-tablePinnedContainer"),a=r.querySelector(".aw-splm-tableScrollContainer");var s=parseInt(e.getAttribute("data-indexnumber"))}if(i&&a){var u,C,E=[],m=[];l.a.isUndefined(s)?(E=i.querySelectorAll("div.ui-grid-row"),m=a.querySelectorAll("div.ui-grid-row")):((E=i.querySelectorAll("div.ui-grid-row[data-indexnumber='"+s+"']"))&&E.length>0&&(u=E[0]),(m=a.querySelectorAll("div.ui-grid-row[data-indexnumber='"+s+"']"))&&m.length>0&&(C=m[0])),!n&&!l.a.isUndefined(s)&&u&&C&&(c(u,t),c(C,t)),d(E,!0,n,t),d(m,!1,n,t)}};r={enableDragging:function(e){e.addEventListener("mousedown",s)},disableDragging:function(e){e.removeEventListener("mousedown",s)},handleDragDropHighlightPLTable:function(e){if(!l.a.isUndefined(e)&&!l.a.isUndefined(e.targetElement)&&e.targetElement.classList){var t=e.isHighlightFlag,n=e.targetElement;t?n.classList.contains(o.a.Const.CLASS_ROW)?u(n,!0,!1):n.classList.contains(o.a.Const.CLASS_TABLE)&&u(n,!0,!0):n.classList.contains(o.a.Const.CLASS_ROW)?u(n,!1,!1):n.classList.contains(o.a.Const.CLASS_TABLE)&&u(n,!1,!0)}}},t.a=r},3029:function(e,t,n){"use strict";var i,l=n(41),a=n(12),o=n(110),r=n(584),s=n(28),c=n(113),d=n(11),u=n(520),C=n(620),E=n(1),m=n.n(E),p=n(2918),L=n(7),_=n(19),S=n(0),f=n(55),h=n(123),g=n(158),A=n(956),T=n(955),v=n(954),b=n(2),N={},I={};let y;const D=function(e,t){let n=p.a.util.createElement("div",p.a.Const.CLASS_TREE_ROW_HEADER_BUTTONS,p.a.Const.CLASS_TREE_BASE_HEADER);t.isLeaf||(n.classList.add(p.a.Const.CLASS_WIDGET_TREE_NODE_TOGGLE_CMD),n.tabIndex=-1,e._tableInstance.keyboardService.setOnFocusAndBlur(n));n.style.marginLeft=16*t.levelNdx+"px",n.title=t._twistieTitle;const i=function(e){return e.loadingStatus?{id:"miscInProcessIndicator",icon:A.svgString}:e.isLeaf?{}:e.isExpanded?{id:"miscExpandedTree",icon:T.svgString}:{id:"miscCollapsedTree",icon:v.svgString}}(t);if(i&&i.id){let e=document.createElement("span");e.classList.add("aw-icon","aw-base-icon");let t=document.createAttribute("iconid");t.value=i.id;let l=document.createAttribute("icon-id");l.value=i.id,e.setAttributeNode(t),e.setAttributeNode(l),e.innerHTML=i.icon,n.appendChild(e)}return n};var O=function(e){return e.hasThumbnail?e.cellHeader1:e.props&&e.props.object_type&&e.props.object_type.uiValue?e.props.object_type.uiValue:e.modelType&&e.modelType.displayName?e.modelType.displayName:""},R=function(e,t,n,i){return e.addEventListener("mouseenter",(function(){(function(e,t,n,i){var l=d.a.instance.defer();return e&&t&&n&&C.a.getNavigationContent(t,n,i).then((function(t){var n=t;n&&l.resolve({objectElement:e,url:n})})),l.promise})(e,t,n,i).then((function(t){m.a.isUndefined(t)||(e=p.a.util.addAttributeToDOMElement(t.objectElement,"href",t.url.urlContent),e=p.a.util.addAttributeToDOMElement(e,"target",t.url.target))}))})),e},w=function(e,t,n,i){var l=p.a.util.createElement("div"),a=p.a.util.createElement("a","aw-uiwidgets-clickableTitle");const o={data:i._tableInstance.declViewModel,ctx:i._tableInstance.ctx,tableContext:i._tableInstance};a.onclick=function(e){o.vmo=t,r.a.doIt(e,o,i._tableInstance.runActionWithViewModel)},a.innerHTML=N.addHighlights(n),l.appendChild(a),e.appendChild(l)};var P=function(e,t){t?p.a.util.showHideElement(e,!1):p.a.util.showHideElement(e,!0)},M=function(e,t,n){var i=p.a.util.getTableInstance(n),l=i.dataProvider.name,a=e.getElementsByClassName(p.a.Const.CLASS_TREE_ROW_HEADER_BUTTONS)[0];if(a){const i=function(){!t.isLeaf&&p.a.util.isExpandAllowed(n)&&function(e,t,n){if(e.isExpanded||e.isInExpandBelowMode)delete e.isExpanded,e.isInExpandBelowMode=!1;else{e.isExpanded=!0;var i=n.getElementsByClassName(p.a.Const.CLASS_ICON_BASE)[0];void 0!==i&&(i.innerHTML=A.svgString)}t._tableInstance.tableInstanceCallbacks.unsetScrollToRowIndex(),t._tableInstance.tableInstanceCallbacks.toggleTreeNode?t._tableInstance.tableInstanceCallbacks.toggleTreeNode(e):L.a.publish(t.id+".plTable.toggleTreeNode",e)}(t,n,e)};a.addEventListener("click",i),a.addEventListener("keydown",(function(e){"Enter"!==e.code&&"Space"!==e.code||i()}))}var o=e.getElementsByClassName(p.a.Const.CLASS_GRID_CELL_IMAGE)[0];o&&o.addEventListener("click",(function(){L.a.publish("plTable.imageButtonClick",t)}));var r=e.getElementsByClassName("cellCommandBarContainer")[0];if(r){var s=i.dataProvider.selectionModel.multiSelectEnabled&&t.selected;P(r,s),L.a.subscribe(l+".selectionChangeEvent",(function(){s=i.dataProvider.selectionModel.multiSelectEnabled&&t.selected,P(r,s)}))}};let B=function(e,t,n){const i={anchor:e.commandsAnchor,column:e,vmo:t,isInternal:n};var l=p.a.util.createElement("div",p.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER);let a=Object(S.d)("AwTableCommandBar",i);return Object(h.d)(Object(b.jsx)(g.a,{children:a}),l),l};function H(e,t){return e||!m.a.isUndefined(t)}N={createCellCommandElement:B,createTreeCellCommandElement:function(e,t,n){var i=p.a.util.createElement("div",p.a.Const.CLASS_AW_TREE_COMMAND_CELL,p.a.Const.CLASS_WIDGET_TABLE_CELL),a=p.a.util.createElement("div",p.a.Const.CLASS_AW_JS_CELL_TOP,p.a.Const.CLASS_WIDGET_UI_NON_EDIT_CELL);i.appendChild(a);var o=D(n,t);a.appendChild(o);var s=function(e,t){var n=p.a.util.createElement("div",p.a.Const.CLASS_GRID_CELL_COLOR_CONTAINER,p.a.Const.CLASS_TREE_COLOR_CONTAINER),i=p.a.util.createColorIndicatorElement(t);return n.appendChild(i),n}(0,t);a.appendChild(s);var c=function(e,t){let n=p.a.util.getImgURL(t),i=t.svgString;if(""===n&&!i)return null;let l=p.a.util.createElement("div",p.a.Const.CLASS_GRID_CELL_IMAGE),a=null;return n&&""!==n?(a=p.a.util.createElement("img",p.a.Const.CLASS_ICON_BASE),a.src=n):i&&(a=p.a.util.createElement("span",p.a.Const.CLASS_ICON_BASE),a.innerHTML=i),a&&(a.alt=O(t),l.appendChild(a)),l}(0,t);c&&a.appendChild(c);var d=function(e,t,n){let i=p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_NON_EDIT_CONTAINER,p.a.Const.CLASS_LAYOUT_ROW_CONTAINER),a=t.displayName;i.title=a;let o=l.a.htmlEscapeAllowEntities(a,!0,!0),s=p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT);return(n.isTableCommand||n.isTreeNavigation)&&r.a.hasClickableCellTitleActions()?w(s,t,o,e):s.innerHTML=N.addHighlights(o),e&&e._tableInstance.dynamicRowHeightStatus&&(i.classList.add(p.a.Const.CLASS_TABLE_CELL_TOP_DYNAMIC),s.classList.add(p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC)),""===s.innerHTML&&s.classList.remove(p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT),i.appendChild(s),i}(n,t,e);return a.appendChild(d),M(i,t,n),i},createCheckMarkElement:function(e,t,n){var i=function(e){return p.a.util.createNgElement('<div class="aw-splm-tableCheckBoxPresent" ><a class="aw-commands-cellCommandCommon"><div class="afx-checkbox afx-checkbox-label-side"><input type="checkbox" class="aw-jswidgets-checkboxButton"/><span class="afx-checkbox-md-style"><span class="check"></span></span></div></a></div>',e,{})}(n);return function(e,t,n,i){var l={};l.anchor=t.commandsAnchor,l.commandContext={vmo:n},void 0!==n.props&&(l.prop=n.props[t.field]),i&&l.$evalAsync()}(0,e,t),i},addHighlights:function(e){return y||(y=a.default.getCtx("highlighter")),y&&"string"===typeof e?e.replace(y.regEx,y.style):e},createCellRenderer:function(){var e,t={},n=p.a.util.createElement("div",p.a.Const.CLASS_AW_POPUP,p.a.Const.CLASS_AW_TOOLTIP_POPUP,p.a.Const.CLASS_TOOLTIP_POPUP),a=function(t,n,i,l){t.addEventListener("mouseover",function(t,n,i,l){return function(){l._tableInstance.showCheckBox||0!==t.getElementsByClassName(p.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER).length||(e=B(n,i,!0),t.appendChild(e))}}(t,n,i,l))},C=function(n,i,l,a){n.addEventListener("mouseleave",function(n,i,l,a){return function(){!a._tableInstance.showCheckBox&&1===n.getElementsByClassName(p.a.Const.CLASS_AW_CELL_COMMANDS_CONTAINER).length&&e&&t.destroyHoverCommandElement()}}(n,0,0,a))},E=function(e){var t="<ul>";return m.a.forEach(e,(function(e){t+="<li>"+N.addHighlights(e)+"</li>"})),t+="</ul>"},L=function(e){if(e.length)for(var t=0;t<e.length;t++)if(""!==e[t])return!1;return!0},A=function(e){var t=[];return!0===e.isArray?e.displayValues?L(e.displayValues)||(t=e.displayValues.slice()):e.uiValues&&(L(e.uiValues)||(t=e.uiValues.slice())):L([e.uiValue])||(t=[e.uiValue]),t},T=function(e){var t=[];return!0===e.isArray&&e.oldValues&&!L(e.oldValues)?t=e.oldValues.slice():e.oldValue&&!L([e.oldValue])&&(t=[e.oldValue]),t},v=function(e,t,n){var i=function(i){i.target&&"a"===i.target.tagName.toLowerCase()&&""!==i.target.href||t.isEditable||(i.cancelBubble=!0,function(e,t,n){if(t&&t.length>0){var i={vmo:s.a.getObject(t)||{propertyName:e,uid:t},edit:!1};o.default.executeCommand("Awp0ShowObjectCell",null,null,i,n.runActionWithViewModel)}}(t.propertyName,t.dbValues[n],e))};e.addEventListener("click",(function(e){i(e)})),e.addEventListener("keydown",(function(e){"Enter"!==e.code&&"Space"!==e.code||i(e)}))};const y=function(e,t){return e.isEditable?p.a.util.createElement("a",p.a.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED):t?p.a.util.createElement("a",p.a.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS,p.a.Const.CLASS_AW_CHANGED_TEXT):p.a.util.createElement("a",p.a.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS)};var D=function(e,t,n,i,l){var a=document.createDocumentFragment(),o=A(e),r=T(e);let s=l._tableInstance.runActionWithViewModel;for(var c=0;o.length>0||r.length>0;){var d=p.a.util.createElement("li",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST_ITEM),u=o.shift(),C=r.shift();if(u){let t=y(e,C);if(t.tabIndex=-1,i&&(t.style.whiteSpace="normal"),!p.a.util.isBulkEditing(l)){var E="";E=e.isArray?e.dbValue[c]:e.dbValue,R(t,n,E)}t.runActionWithViewModel=s,v(t,e,c),t.innerHTML=N.addHighlights(u),d.appendChild(t)}if(t&&H(C,e.oldValue)){var m=p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_PROPERTY_VALUE_LINKS_DISABLED,p.a.Const.CLASS_AW_OLD_TEXT);m.innerHTML=N.addHighlights(C),d.appendChild(m)}a.appendChild(d),a.childNodes.length>0&&a.childNodes[a.childNodes.length-1].classList.add(p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT),c++}return a},P=function(){for(n.parentElement&&n.parentElement.removeChild(n);n.firstChild;)n.removeChild(n.firstChild)},M=function(e,t,i){var l=null;return e.addEventListener("mouseenter",(function(a){if(clearTimeout(l),a.offsetX>a.target.clientWidth)return!1;l=setTimeout((function(){P();var l=e.getBoundingClientRect();n.style.left=l.left+"px",n.style.top=l.top+"px";var a=i.getBoundingClientRect();if(n.style.maxWidth=a.right-l.left+"px",t instanceof DocumentFragment&&(t=Array.prototype.slice.call(t.childNodes)),Array.isArray(t))for(var o=0;o<t.length;o++)n.appendChild(t[o]);else t instanceof Element?n.appendChild(t):n.innerHTML=t;e.appendChild(n)}),750)})),e.addEventListener("mouseleave",(function(){clearTimeout(l),l=setTimeout(P,750)})),n},W={action:function(e,t,n,i){var l=p.a.util.createElement("div",p.a.Const.CLASS_CELL_CONTENTS,p.a.Const.CLASS_SPLM_TABLE_ICON_CELL),a=p.a.util.createColorIndicatorElement(t);l.appendChild(a);var o=p.a.util.createElement("img",p.a.Const.CLASS_ICON_BASE,p.a.Const.CLASS_ICON_TYPE,p.a.Const.CLASS_SPLM_TABLE_ICON),r=p.a.util.getTableRowHeightForIconCellRenderer(p.a.util.getTableInstance(n).gridOptions,void 0);return void 0!==r&&(o.style.height=r+"px",o.style.width=r+"px"),o.src=p.a.util.getImgURL(t),o.alt=O(t),l.appendChild(o),l},condition:function(e,t,n){return"icon"===e.name}};const x={action:function(e,t,n,i){const l=p.a.util.createElement("div",p.a.Const.CLASS_CELL_CONTENTS,p.a.Const.CLASS_SPLM_TABLE_ICON_CELL),a=p.a.util.createColorIndicatorElement(t);l.appendChild(a);const o=p.a.util.createElement("img",p.a.Const.CLASS_ICON_BASE,p.a.Const.CLASS_ICON_TYPE,p.a.Const.CLASS_SPLM_TABLE_ICON),r=p.a.util.getTableRowHeightForIconCellRenderer(p.a.util.getTableInstance(n).gridOptions,void 0);return void 0!==r&&(o.style.height=r+"px",o.style.width=r+"px"),o.src=p.a.util.getImgURL(t.props[e.field]),o.alt=O(t),l.appendChild(o),l},condition:function(e,t,n){return!0===n._tableInstance.gridOptions.transpose&&"icon"===t.name&&"transposedColumnProperty"!==e.field}};var F={action:function(e,t,n,i){var l=p.a.Cell.createElement(e,t,n,i);return l&&(a(l,e,t,n),C(l,0,0,n)),l},condition:function(e,t,n,i){return e.isTableCommand}},U={action:function(e,t,n,i){var l=N.createTreeCellCommandElement(e,t,n),o=l.getElementsByClassName(p.a.Const.CLASS_WIDGET_TABLE_NON_EDIT_CONTAINER)[0];return a(o,e,t,n),C(o,0,0,n),l},condition:function(e,t,n,i){return e.isTreeNavigation}},V={action:function(e,t,n,i){var l=t.props[e.field],a=p.a.util.createElement("ul",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST,p.a.Const.CLASS_TABLE_CELL_TOP),o=n&&n._tableInstance.dynamicRowHeightStatus;o&&a.classList.add(p.a.Const.CLASS_TABLE_CELL_TOP_DYNAMIC),!0===e.isTableCommand&&(a.style.flexWrap="nowrap",a.style.overflow="hidden");var r=l.displayValues||l.uiValues,s={};if(l.isArray&&r.length>0){var c=D(l,null,s,o,n);c&&M(a,c,n)}else a.title=l.uiValue;var d=D(l,!0,s,o,n);return d&&a.appendChild(d),a},condition:function(e,t,n,i){return t.props&&t.props[e.field]&&("OBJECT"===t.props[e.field].type||"OBJECTARRAY"===t.props[e.field].type)}},k=function(e,t){var n=u.a.instance.get("propRenderingTemplate");n||(n=u.a.instance("propRenderingTemplate"));var i=n.get(e);return i||m.a.isEmpty(t)||(i=m.a.template(t),n.put(e,i)),i},G=function(e,t,n,i){var l=d.a.instance.defer();return c.a.instance.get(n,{cache:!0}).then((function(a){a&&l.resolve({containerElement:e,templateUrl:n,vmo:t,htmlString:a.data,dependentServices:i})})),l.promise},j=function(e,t,n,i,l,a,o,r,s){var c=k(l,a)({vmo:t,propName:n,tooltipProps:i,basePath:f.a.get("baseUrl"),dependentServices:o,column:r,tableContext:s._tableInstance.tableContext});e.innerHTML=c.trim()};const q=async function(e,t,n,i,l,a,o,r,s){if(o&&o.length>0)for(let c in o){const d=await Object(S.c)(o[c]);if(d&&m.a.isEmpty(a))j(e,t,n,i,l,a,[d],r,s);else{const d=await Object(S.f)(o[c]);j(e,t,n,i,l,a,[d],r,s)}}else j(e,t,n,i,l,a,o,r,s)};var Y=function(e,t,n){var l={},a=i[e],o=t.id,r=I[o];if(r&&(!0===r.isHeaderTemplate&&!0===n||!0===r.isCellTemplate&&!1===n)&&(l=r),a){var s=a.defaultPropRenderingTemplate;s&&(!0===s.isHeaderTemplate&&!0===n||!0===s.isCellTemplate&&!1===n)&&(l=s),m.a.forEach(a.specificRenderingTemplates,(function(e){e.grids.indexOf(o)>=0&&(!0===e.isHeaderTemplate&&!0===n||!0===e.isCellTemplate&&!1===n)&&(l=e)}))}return l},X=function(e,t,n){if(!m.a.isEmpty(t))for(var i=0;i<t.length;i++){var l=t[i];if(n){if(!0===l.isHeaderTemplate)return!0}else if(!0===l.isCellTemplate)return!0}if(!m.a.isEmpty(e))if(n){if(!0===e.isHeaderTemplate)return!0}else if(!0===e.isCellTemplate)return!0;return!1},z=function(e,t,n){m.a.isEmpty(i)&&function(){i={};var e=_.default.getCfgCached("propertyRendererTemplates");m.a.forEach(e,(function(e){m.a.isEmpty(e.headerTemplate)&&m.a.isEmpty(e.headerTemplateUrl)&&m.a.isEmpty(e.headerRenderFunction)&&m.a.isEmpty(e.headerComponent)||(e.isHeaderTemplate=!0),m.a.isEmpty(e.template)&&m.a.isEmpty(e.templateUrl)&&m.a.isEmpty(e.renderFunction)||(e.isCellTemplate=!0);var t=!1;m.a.isEmpty(e.grids)&&(t=!0),m.a.isEmpty(e.columns)&&m.a.forEach(e.grids,(function(t){I[t]=e})),m.a.forEach(e.columns,(function(n){i[n]||m.a.set(i,[n],{specificRenderingTemplates:[],defaultPropRenderingTemplate:{}});var l=i[n];t?m.a.set(l,"defaultPropRenderingTemplate",e):l.specificRenderingTemplates.push(e)}))}))}();var l=i[e];if(l){var a=X(l.defaultPropRenderingTemplate,l.specificRenderingTemplates,n),o=X(l.defaultPropRenderingTemplate,l.specificRenderingTemplates,n);if(!0===a&&!0===n||!0===o&&!1===n)return!0}return!(!I[t]||!(!0===I[t].isHeaderTemplate&&!0===n||!0===I[t].isCellTemplate&&!1===n))};var K={action:function(e,t,n,i){var l=function(e,t,n){let i=e.field;return!0===n._tableInstance.gridOptions.transpose&&(i=t.props.transposedColumnProperty.dbValue),i}(e,t,n),a=Y(l,n,!1),o=null;if(m.a.isEmpty(a.template))if(m.a.isEmpty(a.templateUrl)){if(!m.a.isEmpty(a.renderFunction)){var r=[t,o=p.a.util.createElement("div",p.a.Const.CLASS_TABLE_CELL_TOP),e.field,a.tooltip];Object(S.f)(a.deps).then((function(e){e[a.renderFunction].apply(null,r)}))}}else{o=p.a.util.createElement("div",p.a.Const.CLASS_TABLE_CELL_TOP);var s=f.a.get("baseUrl")+a.templateUrl;k(s,null)?q(o,t,e.field,a.tooltip,s,"",a.dependentServices,e,n):G(o,t,s,a.dependentServices).then((function(t){q(t.containerElement,t.vmo,e.field,a.tooltip,t.templateUrl,t.htmlString,t.dependentServices,e,n)}))}else o=p.a.util.createElement("div",p.a.Const.CLASS_TABLE_CELL_TOP),q(o,t,e.field,a.tooltip,a.template,a.template,a.dependentServices,e,n);return null!==o&&(o.style.paddingLeft=p.a.Const.CUSTOM_CELL_LEFTPADDING_DEFAULT_SPACE+"px"),o},condition:function(e,t,n){var i=e.field;return!0===n._tableInstance.gridOptions.transpose&&"transposedColumnProperty"!==e.field&&(i=t.props.transposedColumnProperty.dbValue),!(!e.enableRendererContribution||!z(i,n.id,!1))}},J={action:function(e,t){var n=Y(e.field,t,!0),i=null;if(m.a.isEmpty(n.headerTemplate))if(m.a.isEmpty(n.headerTemplateUrl))if(m.a.isEmpty(n.headerRenderFunction)){if(!m.a.isEmpty(n.headerComponent)){i=document.createElement("div",p.a.Const.CLASS_TABLE_CELL_TOP),function(e,t,n,i){const l={vmo:n,column:i};let a=Object(S.d)(e,l);t&&Object(h.d)(Object(b.jsx)(g.a,{children:a}),t)}(n.headerComponent,i,{},e)}}else{var l=[i=document.createElement("div"),e.field,n.tooltip,e];Object(S.f)(n.deps).then((function(e){e[n.headerRenderFunction].apply(null,l)}))}else{i=document.createElement("div");var a=f.a.get("baseUrl")+n.headerTemplateUrl;k(a,null)?q(i,null,e.field,n.tooltip,a,"",n.dependentServices,e,t):G(i,null,a,n.dependentServices).then((function(i){q(i.containerElement,i.vmo,e.field,n.tooltip,i.templateUrl,i.htmlString,i.dependentServices,e,t)}))}else i=document.createElement("div"),q(i,null,e.field,n.tooltip,n.headerTemplate,n.headerTemplate,n.dependentServices,e,t);return i},condition:function(e,t){return!(!e.enableRendererContribution||!z(e.field,t.id,!0))}},Z={action:function(e,t,n,i){var l=t.props[e.field],a=A(l),o=T(l),r=p.a.util.createElement("ul",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST,p.a.Const.CLASS_TABLE_CELL_TOP);if(n&&n._tableInstance.dynamicRowHeightStatus&&r.classList.add(p.a.Const.CLASS_TABLE_CELL_TOP_DYNAMIC),a.length>0){var s=E(a);M(r,s,n)}for(;a.length>0||o.length>0;){var c,d=p.a.util.createElement("li",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST_ITEM);d.style.width="100%";var u=a.shift(),C=o.shift();if(u&&((c=C?p.a.util.createElement("div",p.a.Const.CLASS_TABLE_RTF_CELL_ITEM,p.a.Const.CLASS_AW_CHANGED_TEXT):p.a.util.createElement("div",p.a.Const.CLASS_TABLE_RTF_CELL_ITEM)).innerHTML=N.addHighlights(u),d.appendChild(c)),H(C,l.oldValue)){var m=p.a.util.createElement("div",p.a.Const.CLASS_AW_OLD_TEXT);m.innerHTML=N.addHighlights(C),d.appendChild(m)}c&&c.childElementCount>1&&1===a.length&&(d.style.height="100%"),r.appendChild(d)}return r},condition:function(e,t,n,i){return t.props&&t.props[e.field]&&t.props[e.field].isRichText}},$={action:function(e,t,n,i){var a=t.props[e.field],o=n&&n._tableInstance.dynamicRowHeightStatus,s=p.a.util.createElement("div",p.a.Const.CLASS_TABLE_CELL_TOP);if(o&&s.classList.add(p.a.Const.CLASS_TABLE_CELL_TOP_DYNAMIC),a.uiValue){var c=p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT);o&&c.classList.add(p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC),s.title=a.uiValue;var d=l.a.htmlEscapeAllowEntities(a.uiValue,!0,!0);(e.isTableCommand||e.isTreeNavigation)&&r.a.hasClickableCellTitleActions()?w(c,t,d,n):c.innerHTML=N.addHighlights(d),s.appendChild(c)}return s},condition:function(e,t,n,i){return t.props&&t.props[e.field]&&!t.props[e.field].isRichText&&!t.props[e.field].oldValue&&!t.props[e.field].isArray}},Q={action:function(e,t,n,i){var a=t.props[e.field],o=A(a),r=T(a),s=n&&n._tableInstance.dynamicRowHeightStatus,c=p.a.util.createElement("ul",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST,p.a.Const.CLASS_TABLE_CELL_TOP);if(s&&c.classList.add(p.a.Const.CLASS_TABLE_CELL_TOP_DYNAMIC),a.isArray){if(o.length>0){var d=E(o);M(c,d,n)}}else c.title=a.uiValue;for(;o.length>0||r.length>0;){var u,C=p.a.util.createElement("li",p.a.Const.CLASS_TABLE_NON_EDIT_CELL_LIST_ITEM),m=o.shift(),L=r.shift();if(m){u=H(L,a.oldValue)?p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT,p.a.Const.CLASS_AW_CHANGED_TEXT):p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT);var _=l.a.htmlEscapeAllowEntities(m,!0,!0);u.innerHTML=N.addHighlights(_),s&&u.classList.add(p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT_DYNAMIC),C.appendChild(u)}if(L){var S=p.a.util.createElement("div",p.a.Const.CLASS_WIDGET_TABLE_CELL_TEXT,p.a.Const.CLASS_AW_OLD_TEXT);S.innerHTML=N.addHighlights(L),C.appendChild(S)}c.appendChild(C)}return c},condition:function(e,t,n,i){return t.props&&t.props[e.field]&&!t.props[e.field].isRichText&&(t.props[e.field].isArray||t.props[e.field].oldValue)}},ee={action:function(e){var t=document.createElement("div");return t.classList.add(p.a.Const.CLASS_HEADER_CELL_LABEL),t.textContent=e.displayName,t},condition:function(){return!0}},te={action:function(e){let t=document.createElement("div"),n=p.a.util.createElement("div",p.a.Const.CLASS_HEADER_ICON_CONTAINER);var i=p.a.util.createElement("img",p.a.Const.CLASS_HEADER_ICON);return i.src=p.a.util.getImgURL(e.vmo),i.alt=O(e.vmo),n.appendChild(i),t.appendChild(n),t.appendChild(ee.action(e)),t},condition:function(e,t){return!0===t._tableInstance.gridOptions.enableHeaderIcon&&"transposedColumnProperty"!==e.field}};return t.resetHoverCommandElement=function(){e&&e.parentElement&&(p.a.util.cleanupComponents(e.parentElement),e.parentElement&&e.parentElement.removeChild(e))},t.destroyHoverCommandElement=function(){e&&e.parentElement&&(p.a.util.cleanupComponents(e.parentElement),e.parentElement&&e.parentElement.removeChild(e),p.a.util.destroyElement(e)),e=null},t.getAwCellRenderers=function(){return[F,K,W,x,U,V,$,Q,Z]},t.getAwHeaderRenderers=function(){return[J,te,ee]},t},cleanup:function(){i&&(i=null),I&&(I={})}},t.a=N},3099:function(e,t,n){var i;!function(l,a,o,r){"use strict";var s,c=["","webkit","Moz","MS","ms","o"],d=a.createElement("div"),u=Math.round,C=Math.abs,E=Date.now;function m(e,t,n){return setTimeout(g(e,n),t)}function p(e,t,n){return!!Array.isArray(e)&&(L(e,n[t],n),!0)}function L(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==r)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function _(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=l.console&&(l.console.warn||l.console.log);return a&&a.call(l.console,i,n),e.apply(this,arguments)}}s="function"!==typeof Object.assign?function(e){if(e===r||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==r&&null!==i)for(var l in i)i.hasOwnProperty(l)&&(t[l]=i[l])}return t}:Object.assign;var S=_((function(e,t,n){for(var i=Object.keys(t),l=0;l<i.length;)(!n||n&&e[i[l]]===r)&&(e[i[l]]=t[i[l]]),l++;return e}),"extend","Use `assign`."),f=_((function(e,t){return S(e,t,!0)}),"merge","Use `assign`.");function h(e,t,n){var i,l=t.prototype;(i=e.prototype=Object.create(l)).constructor=e,i._super=l,n&&s(i,n)}function g(e,t){return function(){return e.apply(t,arguments)}}function A(e,t){return"function"==typeof e?e.apply(t&&t[0]||r,t):e}function T(e,t){return e===r?t:e}function v(e,t,n){L(y(t),(function(t){e.addEventListener(t,n,!1)}))}function b(e,t,n){L(y(t),(function(t){e.removeEventListener(t,n,!1)}))}function N(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function I(e,t){return e.indexOf(t)>-1}function y(e){return e.trim().split(/\s+/g)}function D(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function R(e,t,n){for(var i=[],l=[],a=0;a<e.length;){var o=t?e[a][t]:e[a];D(l,o)<0&&i.push(e[a]),l[a]=o,a++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function w(e,t){for(var n,i,l=t[0].toUpperCase()+t.slice(1),a=0;a<c.length;){if((i=(n=c[a])?n+l:t)in e)return i;a++}return r}var P=1;function M(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||l}var B="ontouchstart"in l,H=w(l,"PointerEvent")!==r,W=B&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),x="touch",F="mouse",U=24,V=["x","y"],k=["clientX","clientY"];function G(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){A(e.options.enable,[e])&&n.handler(t)},this.init()}function j(e,t,n){var i=n.pointers.length,l=n.changedPointers.length,a=1&t&&i-l===0,o=12&t&&i-l===0;n.isFirst=!!a,n.isFinal=!!o,a&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,l=i.length;n.firstInput||(n.firstInput=q(t));l>1&&!n.firstMultiple?n.firstMultiple=q(t):1===l&&(n.firstMultiple=!1);var a=n.firstInput,o=n.firstMultiple,s=o?o.center:a.center,c=t.center=Y(i);t.timeStamp=E(),t.deltaTime=t.timeStamp-a.timeStamp,t.angle=J(s,c),t.distance=K(s,c),function(e,t){var n=t.center,i=e.offsetDelta||{},l=e.prevDelta||{},a=e.prevInput||{};1!==t.eventType&&4!==a.eventType||(l=e.prevDelta={x:a.deltaX||0,y:a.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=l.x+(n.x-i.x),t.deltaY=l.y+(n.y-i.y)}(n,t),t.offsetDirection=z(t.deltaX,t.deltaY);var d=X(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=C(d.x)>C(d.y)?d.x:d.y,t.scale=o?(u=o.pointers,m=i,K(m[0],m[1],k)/K(u[0],u[1],k)):1,t.rotation=o?function(e,t){return J(t[1],t[0],k)+J(e[1],e[0],k)}(o.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,l,a,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(8!=t.eventType&&(s>25||o.velocity===r)){var c=t.deltaX-o.deltaX,d=t.deltaY-o.deltaY,u=X(s,c,d);i=u.x,l=u.y,n=C(u.x)>C(u.y)?u.x:u.y,a=z(c,d),e.lastInterval=t}else n=o.velocity,i=o.velocityX,l=o.velocityY,a=o.direction;t.velocity=n,t.velocityX=i,t.velocityY=l,t.direction=a}(n,t);var u,m;var p=e.element;N(t.srcEvent.target,p)&&(p=t.srcEvent.target);t.target=p}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:u(e.pointers[n].clientX),clientY:u(e.pointers[n].clientY)},n++;return{timeStamp:E(),pointers:t,center:Y(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Y(e){var t=e.length;if(1===t)return{x:u(e[0].clientX),y:u(e[0].clientY)};for(var n=0,i=0,l=0;l<t;)n+=e[l].clientX,i+=e[l].clientY,l++;return{x:u(n/t),y:u(i/t)}}function X(e,t,n){return{x:t/e||0,y:n/e||0}}function z(e,t){return e===t?1:C(e)>=C(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=V);var i=t[n[0]]-e[n[0]],l=t[n[1]]-e[n[1]];return Math.sqrt(i*i+l*l)}function J(e,t,n){n||(n=V);var i=t[n[0]]-e[n[0]],l=t[n[1]]-e[n[1]];return 180*Math.atan2(l,i)/Math.PI}G.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(M(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4},$="mousedown",Q="mousemove mouseup";function ee(){this.evEl=$,this.evWin=Q,this.pressed=!1,G.apply(this,arguments)}h(ee,G,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:F,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:x,3:"pen",4:F,5:"kinect"},ie="pointerdown",le="pointermove pointerup pointercancel";function ae(){this.evEl=ie,this.evWin=le,G.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(ie="MSPointerDown",le="MSPointerMove MSPointerUp MSPointerCancel"),h(ae,G,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),l=te[i],a=ne[e.pointerType]||e.pointerType,o=a==x,r=D(t,e.pointerId,"pointerId");1&l&&(0===e.button||o)?r<0&&(t.push(e),r=t.length-1):12&l&&(n=!0),r<0||(t[r]=e,this.callback(this.manager,l,{pointers:t,changedPointers:[e],pointerType:a,srcEvent:e}),n&&t.splice(r,1))}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},re="touchstart",se="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=re,this.evWin=se,this.started=!1,G.apply(this,arguments)}function de(e,t){var n=O(e.touches),i=O(e.changedTouches);return 12&t&&(n=R(n.concat(i),"identifier",!0)),[n,i]}h(ce,G,{handler:function(e){var t=oe[e.type];if(1===t&&(this.started=!0),this.started){var n=de.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:x,srcEvent:e})}}});var ue={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Ce="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=Ce,this.targetIds={},G.apply(this,arguments)}function me(e,t){var n=O(e.touches),i=this.targetIds;if(3&t&&1===n.length)return i[n[0].identifier]=!0,[n,n];var l,a,o=O(e.changedTouches),r=[],s=this.target;if(a=n.filter((function(e){return N(e.target,s)})),1===t)for(l=0;l<a.length;)i[a[l].identifier]=!0,l++;for(l=0;l<o.length;)i[o[l].identifier]&&r.push(o[l]),12&t&&delete i[o[l].identifier],l++;return r.length?[R(a.concat(r),"identifier",!0),r]:void 0}h(Ee,G,{handler:function(e){var t=ue[e.type],n=me.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:x,srcEvent:e})}});function pe(){G.apply(this,arguments);var e=g(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,_e.call(this,t)):12&e&&_e.call(this,t)}function _e(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),2500)}}function Se(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var l=this.lastTouches[i],a=Math.abs(t-l.x),o=Math.abs(n-l.y);if(a<=25&&o<=25)return!0}return!1}h(pe,G,{handler:function(e,t,n){var i=n.pointerType==x,l=n.pointerType==F;if(!(l&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Le.call(this,t,n);else if(l&&Se.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fe=w(d.style,"touchAction"),he=fe!==r,ge="compute",Ae="auto",Te="manipulation",ve="none",be="pan-x",Ne="pan-y",Ie=function(){if(!he)return!1;var e={},t=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||l.CSS.supports("touch-action",n)})),e}();function ye(e,t){this.manager=e,this.set(t)}ye.prototype={set:function(e){e==ge&&(e=this.compute()),he&&this.manager.element.style&&Ie[e]&&(this.manager.element.style[fe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return L(this.manager.recognizers,(function(t){A(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(I(e,ve))return ve;var t=I(e,be),n=I(e,Ne);if(t&&n)return ve;if(t||n)return t?be:Ne;if(I(e,Te))return Te;return Ae}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,l=I(i,ve)&&!Ie.none,a=I(i,Ne)&&!Ie["pan-y"],o=I(i,be)&&!Ie["pan-x"];if(l){var r=1===e.pointers.length,s=e.distance<2,c=e.deltaTime<250;if(r&&s&&c)return}if(!o||!a)return l||a&&6&n||o&&n&U?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var De=32;function Oe(e){this.options=s({},this.defaults,e||{}),this.id=P++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Re(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function we(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Pe(e,t){var n=t.manager;return n?n.get(e):e}function Me(){Oe.apply(this,arguments)}function Be(){Me.apply(this,arguments),this.pX=null,this.pY=null}function He(){Me.apply(this,arguments)}function We(){Oe.apply(this,arguments),this._timer=null,this._input=null}function xe(){Me.apply(this,arguments)}function Fe(){Me.apply(this,arguments)}function Ue(){Oe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ve(e,t){return(t=t||{}).recognizers=T(t.recognizers,Ve.defaults.preset),new ke(e,t)}Oe.prototype={defaults:{},set:function(e){return s(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(p(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Pe(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return p(e,"dropRecognizeWith",this)||(e=Pe(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(p(e,"requireFailure",this))return this;var t=this.requireFail;return-1===D(t,e=Pe(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(p(e,"dropRequireFailure",this))return this;e=Pe(e,this);var t=D(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Re(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Re(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=De},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=s({},e);if(!A(this.options.enable,[this,t]))return this.reset(),void(this.state=De);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},h(Me,Oe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,l=this.attrTest(e);return i&&(8&n||!l)?16|t:i||l?4&n?8|t:2&t?4|t:2:De}}),h(Be,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Ne),e&U&&t.push(be),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,l=e.direction,a=e.deltaX,o=e.deltaY;return l&t.direction||(6&t.direction?(l=0===a?1:a<0?2:4,n=a!=this.pX,i=Math.abs(e.deltaX)):(l=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=l,n&&i>t.threshold&&l&t.direction},attrTest:function(e){return Me.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=we(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),h(He,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ve]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),h(We,Oe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ae]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,l=e.deltaTime>t.time;if(this._input=e,!i||!n||12&e.eventType&&!l)this.reset();else if(1&e.eventType)this.reset(),this._timer=m((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return De},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=E(),this.manager.emit(this.options.event,this._input)))}}),h(xe,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ve]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),h(Fe,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Be.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&U&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&C(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=we(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),h(Ue,Oe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Te]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,l=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&l&&n){if(4!=e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&a?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return De},failTimeout:function(){return this._timer=m((function(){this.state=De}),this.options.interval,this),De},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ve.VERSION="2.0.7",Ve.defaults={domEvents:!1,touchAction:ge,enable:!0,inputTarget:null,inputClass:null,preset:[[xe,{enable:!1}],[He,{enable:!1},["rotate"]],[Fe,{direction:6}],[Be,{direction:6},["swipe"]],[Ue],[Ue,{event:"doubletap",taps:2},["tap"]],[We]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function ke(e,t){var n;this.options=s({},Ve.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(H?ae:W?Ee:B?pe:ee))(n,j),this.touchAction=new ye(this,this.options.touchAction),Ge(this,!0),L(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ge(e,t){var n,i=e.element;i.style&&(L(e.options.cssProps,(function(l,a){n=w(i.style,a),t?(e.oldCssProps[n]=i.style[n],i.style[n]=l):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}ke.prototype={set:function(e){return s(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,l=t.curRecognizer;(!l||l&&8&l.state)&&(l=t.curRecognizer=null);for(var a=0;a<i.length;)n=i[a],2===t.stopped||l&&n!=l&&!n.canRecognizeWith(l)?n.reset():n.recognize(e),!l&&14&n.state&&(l=t.curRecognizer=n),a++}},get:function(e){if(e instanceof Oe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(p(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(p(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=D(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==r&&t!==r){var n=this.handlers;return L(y(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==r){var n=this.handlers;return L(y(e),(function(e){t?n[e]&&n[e].splice(D(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=a.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&Ge(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Ve,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:De,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:U,DIRECTION_ALL:30,Manager:ke,Input:G,TouchAction:ye,TouchInput:Ee,MouseInput:ee,PointerEventInput:ae,TouchMouseInput:pe,SingleTouchInput:ce,Recognizer:Oe,AttrRecognizer:Me,Tap:Ue,Pan:Be,Swipe:Fe,Pinch:He,Rotate:xe,Press:We,on:v,off:b,each:L,merge:f,extend:S,assign:s,inherit:h,bindFn:g,prefixed:w}),("undefined"!==typeof l?l:"undefined"!==typeof self?self:{}).Hammer=Ve,(i=function(){return Ve}.call(t,n,t,e))===r||(e.exports=i)}(window,document)}}]);
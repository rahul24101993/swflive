(this.webpackJsonpswflearning=this.webpackJsonpswflearning||[]).push([[102],{3086:function(e,a,r){"use strict";r.r(a),r.d(a,"populateSupportedViewModes",(function(){return l})),r.d(a,"handleViewModechange",(function(){return y})),r.d(a,"setViewMode",(function(){return f}));var n=r(6),t=r(12),i=r(3042),o=r(65),s=r(598),d=r(11);const l=e=>{let a=e||{SummaryView:{primaryWorkArea:"list",secondaryWorkArea:!0},TableSummaryView:{primaryWorkArea:"table",secondaryWorkArea:!0},ListView:{primaryWorkArea:"list",secondaryWorkArea:!1},TableView:{primaryWorkArea:"table",secondaryWorkArea:!1},ImageView:{primaryWorkArea:"image",secondaryWorkArea:!1}};return i.a.setAvailableViewModes(Object.keys(a)),a},c=(e,a)=>{const r=()=>({viewSuffix:a.primaryWorkArea,showSecondaryWorkArea:a.secondaryWorkArea}),n=o.a.getActiveEditHandler();return n&&!n.editInProgress()?d.a.instance.resolve(r()):o.a.leaveConfirmation().then((()=>r()))},u=e=>"AW_SubLocation_"+(-1!==e.indexOf(":")?e.split(":")[1]:"Generic")+"_ViewMode",w=e=>{let a=t.default.getCtx("preferences."+u(e));return a?a[0]:a},y=(e,a,r)=>{if(e){var i=e[r];i||(r=a.defaultDisplayMode?a.defaultDisplayMode:Object.keys(e)[0],n.a.warn("Unknown view mode, defaulting to",r),i=e[r]);const o=t.default.getCtx("tcSessionData");return w(a.nameToken)!==r&&o&&((e,a)=>{t.default.updatePartialCtx("preferences."+u(a),[e])})(r,a.nameToken),c(0,i)}},f=(e,a)=>{let{defaultDisplayMode:r,nameToken:n}=a,t=n&&w(n);if(!r||t&&e[t])if(s.default.isNarrowMode()){let a=e.SummaryView;c(0,a)}else t=n&&w(n),t?i.a.changeViewMode(t):e.hasOwnProperty("SummaryView")?i.a.changeViewMode("SummaryView"):i.a.changeViewMode(Object.keys(e)[0]);else i.a.changeViewMode(r)}}}]);
(this.webpackJsonpswflearning=this.webpackJsonpswflearning||[]).push([[97],{3030:function(e,t,a){"use strict";a.r(t),a.d(t,"setAutoSaveToggle",(function(){return S})),a.d(t,"onChangeCallback",(function(){return h})),a.d(t,"initializeAutoSaveContext",(function(){return b})),a.d(t,"autoSaveContextRenderFunction",(function(){return T}));var n=a(12),o=a(65),u=a(32),i=a(101),l=a(15),d=a(7),s=a(1),r=a.n(s),c=a(607),f=a(600),g=a(45),p=a(2);const v="autoSave.dbValue";let C;const x=Object(g.i)(f.default),S=function(e){void 0===C&&n.default.updatePartialCtx(v,e)},h=function(e){return function(t){e.onChange&&e.onChange(t);const a=n.default.getCtx(v);e.update(!a),o.a.leaveConfirmation().then((()=>{e.update(a),u.default.publish("autosave",a),d.a.publish("autoSaveToggleChanged",a)}))}},b=async function(){let e=!0;n.default.registerCtx("showAutoSaveToggle",!0);const t=u.default.get("autosave");"true"!==t&&"false"!==t||(e="true"===t),d.a.subscribe("appCtx.update",(function(e){"workspace"===e.name&&(C=r.a.get(e.value,"settings.autoSave"),void 0!==C&&(S(C),n.default.updateCtx("showAutoSaveToggle",!1)))}));const a=await l.default.getLocalizedTextFromKey("BaseMessages.AUTO_SAVE_TITLE",!0);n.default.registerCtx("autoSave",i.a.createViewModelProperty({displayName:a,type:"BOOLEAN",dbValue:e}))},T=e=>{let{actions:t,viewModel:a,fields:n}=e;const{data:o}=a;return n.autoSave&&n.autoSave.fielddata&&(n.autoSave.fielddata.labelPlacement="start"),Object(p.jsx)(c.default,{children:Object(p.jsx)(x,{...n.autoSave,onChange:h(n.autoSave),extendedTooltipOptions:"{alignment : 'top'}",extendedTooltipContext:o.tooltip,extendedTooltip:"ExtendedTooltipDefault"})})};t.default={initializeAutoSaveContext:b,setAutoSaveToggle:S,onChangeCallback:h,autoSaveContextRenderFunction:T}}}]);
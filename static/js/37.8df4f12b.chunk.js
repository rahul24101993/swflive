(this.webpackJsonpswflearning=this.webpackJsonpswflearning||[]).push([[37],{2977:function(e,t,a){"use strict";var n=a(11),r=a(12),i=a(28),u=a(31),o=a(1),l=a.n(o),c=a(7);let s={};var d="selected",f="mselected",p="pselected",g="relationContext";s={updateSelection:function(e,t,a){var i=s.getSelection(),u=a?{relationInfo:a}:void 0,o=null,c=[];if(l.a.isArray(e)){o=e[0];for(var b=0;b<e.length;b++)c.push(e[b])}else e&&(o=e,c=[e]);var C=!1;return i.selected&&l.a.isEqual(o,i.selected[0])||(r.default.registerCtx(d,o),C=!0),l.a.isEqual(c,i.selected)||(r.default.registerCtx(f,c),C=!0),l.a.isEqual(t,i.parent)||(r.default.registerCtx(p,t),C=!0),l.a.isEqual(u,i.relationInfo)||(r.default.registerCtx(g,u),C=!0),C?s.updateCommandContext():n.a.instance.resolve()},getSelection:function(){return{selected:r.default.getCtx(f),parent:r.default.getCtx(p),relationInfo:r.default.getCtx(g)}},getAlternateSelectedObjects:function(e){var t=[],a=[];return e&&(l.a.forEach(e,(function(e){e&&e.dbValues&&l.a.forEach(e.dbValues,(function(e){var n=i.a.getObject(e);n&&!l.a.isEmpty(n.props)?t.push(n):a.push(e)}))})),l.a.isEmpty(a)||l.a.forEach(a,(function(e){var a=i.a.getObject(e);t.push(a)}))),t},updateCommandContext:function(){return n.a.instance.resolve()}},t.a=s,c.a.subscribe("cdm.modified",(function(e){var t=r.default.getCtx(f),a=r.default.getCtx(d);l.a.forEach(e.modifiedObjects,(function(e){l.a.forEach(t,(function(n){if(e.uid===n.uid&&u.default.isViewModelObject(n)){var r=u.default.createViewModelObject(e,"EDIT");r&&r.props&&(u.default.updateSourceObjectPropertiesByViewModelObject(r,t),a.uid===n.uid&&u.default.updateSourceObjectPropertiesByViewModelObject(r,[a]))}}))}))}))}}]);